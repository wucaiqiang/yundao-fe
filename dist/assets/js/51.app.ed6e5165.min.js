webpackJsonp([51],{1652:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),d=n(42),f=n(84),p=o(f),m=n(358),h=o(m),g=n(357),v=o(g),_=n(1717),y=o(_),b=n(1890),w=o(b),x=n(1754),k=o(x),E=n(1854),j=o(E),C=n(1698),O=o(C),S=n(1704),P=o(S),I=n(1722),U=o(I),T=n(1744),L=o(T),F=n(1720),M=o(F),V=n(33),D=o(V),R=n(2089),z=o(R),N=d.Form.Item,B=d.Select.Option,q=d.Radio.Group,Y=(d.Checkbox.Group,d.Input.TextArea,L.default.EnumProductIssuedStatus,function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={visible:!1,fileList:["http://file.yundaojishu.com/roadshow/roadshow_cover_001.jpg","http://file.yundaojishu.com/roadshow/roadshow_cover_002.jpg","http://file.yundaojishu.com/roadshow/roadshow_cover_003.jpg","http://file.yundaojishu.com/roadshow/roadshow_cover_004.jpg","http://file.yundaojishu.com/roadshow/roadshow_cover_005.jpg"]},o.hide=function(){o.setState({visible:!1})},o.changeCover=function(e){var t=o.state.fileList[e];o.props.onChange&&o.props.onChange(t),o.hide()},o.handleVisibleChange=function(e){o.setState({visible:e})},i=n,r(o,i)}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t=c.default.createElement("div",{className:z.default.coverTemplate},c.default.createElement("ul",null,this.state.fileList.map(function(t,n){return c.default.createElement("li",{key:n,onClick:function(){e.changeCover(n)}},c.default.createElement("img",{width:"692",height:"388",src:t}))})));return c.default.createElement(d.Popover,{content:t,title:"点击选择路演封面模板",visible:this.state.visible,onVisibleChange:this.handleVisibleChange,trigger:"click"},c.default.createElement(d.Button,null,"从模板选择"))}}]),t}(p.default)),A=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.product_list=[],n.loadData=function(){n.get_platform()},n.get_platform=function(){return n.platform.get_roadshow_platform().then(function(e){n.setState({platforms:e.result});var t=e.result[0].id;n.formUtils.setFieldsValue({platformId:t}),n.get_column(t)})},n.get_column=function(e){return n.roadshowColumn.get_platform_column(e).then(function(e){n.setState({columns:e.result})})},n.cancel=function(){d.Modal.confirm({title:"确定取消新增路演？",okText:"确定",cancelText:"取消",onOk:function(){n.props.history.push("/cms/roadshow/list")}})},n.save=function(e){e&&e.preventDefault(),n.formUtils.validateFields(function(e){if(!e){var t=n.formUtils.getFieldsValue();t=n.formatData(t);(0,n.roadshow.add)(t).then(function(e){e.success&&d.Modal.confirm({title:"新增路演成功.是否继续新增路演",okText:"继续新增",cancelText:"返回列表",onOk:function(){n.formUtils.resetFields(),n.formUtils.setFieldsValue({productId:t.productId,videoId:t.videoId}),n.get_platform()},onCancel:function(){n.props.history.push("/cms/roadshow/list")}})})}})},n.state={isEdit:!0,filters:{},current_product:{},visible:!0},n.formUtils=new v.default("Detail"),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){this.formUtils=this.props.formUtils||this.formUtils,this.formUtils.setForm(this.props.form),this.props.setForm&&this.props.setForm.call(this,this),this.roadshow=new w.default,this.platform=new k.default,this.roadshowColumn=new j.default,this.loadData(),this.dictionary=new O.default,this.product=new P.default,this.video=new U.default,this.getDictionary()}},{key:"getDictionary",value:function(){var e=this;this.dictionary.gets("dic_roadshow_status").then(function(t){if(t.success&&t.result){var n={};t.result.map(function(e){n[e.value]=e.selections}),e.setState({filters:n})}})}},{key:"formatData",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];"string"==typeof n&&(n=n.replace(/^\s*|\s*$/g,"")),n instanceof Date?n=(0,D.default)(n).format("YYYY-MM-DD HH:mm"):n instanceof D.default&&(n=(0,D.default)(n).format("YYYY-MM-DD HH:mm")),n instanceof Array&&(n=n.join(",")),n instanceof Object&&n._isAMomentObject&&(n=n.format("YYYY-MM-DD HH:mm")),e[t]=n}return e}},{key:"render",value:function(){var e=this,t={labelCol:{span:7},wrapperCol:{span:17}},n=this.props,o=n.data,a=void 0===o?{}:o,r=(n.mod,this.state),i=(r.activeKey,r.filters),u=(r.platforms,r.current_product);this.formUtils.getFieldValue("coverUrl"),this.formUtils.getFieldValue("platformId");return c.default.createElement(h.default,this.props,c.default.createElement("div",{className:z.default.page,ref:function(t){if(t){var n=t.parentNode.parentNode;e.affixContainer=n}}},c.default.createElement(d.Breadcrumb,{className:"page-breadcrumb"},c.default.createElement(d.Breadcrumb.Item,null,"内容配置"),c.default.createElement(d.Breadcrumb.Item,null,"路演内容配置"),c.default.createElement(d.Breadcrumb.Item,null,"新增路演")),c.default.createElement("div",{className:"page-content"},c.default.createElement(d.Form,null,c.default.createElement(N,l({label:"路演标题"},t),this.formUtils.getFieldDecorator("title",{initialValue:a.title?a.title:null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,min:1,max:100,message:"请输入路演标题，长度1-100"}]})(c.default.createElement(d.Input,{placeholder:"路演标题"}))),c.default.createElement(N,l({label:"选择视频"},t),c.default.createElement("div",{id:"videoId_FormItem"},c.default.createElement(M.default,{placeholder:"请输入选择视频",request:this.video.gets_by_name,format:function(e){return e.value=e.id,e.disabled=1!=e.status,e.label=e.disabled?e.name+"("+e.statusText+",不可用)":e.name,e},callback:function(t){var n=t?t.key:"";e.formUtils.setFieldsValue({videoId:n})},name:"videoId"})," ",this.formUtils.getFieldDecorator("videoId",{initialValue:null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请输入选择视频"}]})(c.default.createElement(d.Input,{type:"hidden"})))),c.default.createElement("div",{id:"platformId"},c.default.createElement(N,l({label:"所属平台"},t),this.formUtils.getFieldDecorator("platformId",{initialValue:null,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请选择所属平台"}]})(c.default.createElement(d.Select,{onChange:function(t){e.get_column(t)},disabled:!(!this.props.isEdit||!a.id),getPopupContainer:function(){return document.getElementById("platformId")},placeholder:"请选择平台"},this.state.platforms&&this.state.platforms.map(function(e){return c.default.createElement(B,{value:e.id,key:e.id},e.name)}))))),c.default.createElement("div",{id:"columnContainer"},c.default.createElement(N,l({label:"所属栏目"},t),this.formUtils.getFieldDecorator("columnIds",{initialValue:a.columnIds,validateTrigger:["onChange","onBlur"]})(c.default.createElement(d.Select,{mode:"multiple",getPopupContainer:function(){return document.getElementById("columnContainer")},placeholder:"请选择所属栏目"},this.state.columns&&this.state.columns.map(function(e){return c.default.createElement(B,{value:e.id.toString(),key:e.id},e.name)}))))),c.default.createElement(N,l({label:"关联产品"},t),c.default.createElement("div",{id:"productId_FormItem"},c.default.createElement(M.default,{placeholder:"请输入选择关联产品",request:this.product.get_product,format:function(t){return t.value=t.id,t.label=t.name,e.product_list[t.id]=t,t},callback:function(t){var n=t?t.key:"";e.formUtils.setFieldsValue({productId:n}),e.setState({current_product:e.product_list[n]})},name:"productId"})," ",this.formUtils.getFieldDecorator("productId",{initialValue:null,validateTrigger:["onChange","onBlur"],rules:[{message:"请输入选择关联产品"}]})(c.default.createElement(d.Input,{type:"hidden"})))),c.default.createElement(N,l({label:" "},t),"该产品的发行状态:",u?u.issuedStatusText:""),c.default.createElement(N,l({label:"封面"},t),this.state.isEdit?c.default.createElement("div",null,this.formUtils.getFieldDecorator("coverUrl",{initialValue:a.coverUrl,rules:[{required:!0,message:"请选择或上传封面"}]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("div",{className:z.default.image},c.default.createElement(y.default,{showUploadList:!1,accept:"png,jpg,jpeg,gif",max:1,fileSize:"500kb",onSave:function(t){e.formUtils.setFieldsValue({coverUrl:t.url})}},this.formUtils.getFieldValue("coverUrl")?c.default.createElement("div",{className:z.default.uploaded},c.default.createElement("img",{width:"692",height:"388",src:this.formUtils.getFieldValue("coverUrl"),alt:"封面"}),c.default.createElement("div",{className:z.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.formUtils.setFieldsValue({coverUrl:""})}}))):c.default.createElement("div",{className:z.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"拖入或点击上传封面")))),c.default.createElement("p",null,"最优分辨率：692X388，大小不超过500KB"),c.default.createElement(Y,{onChange:function(t){e.formUtils.setFieldsValue({coverUrl:t})}})):c.default.createElement("img",{width:"692",height:"388",src:a.coverUrl})),c.default.createElement(N,l({label:"主讲人"},t),this.state.isEdit?this.formUtils.getFieldDecorator("speaker",{initialValue:a.speaker,validateTrigger:["onChange","onBlur"],rules:[{min:1,max:20,message:"请输入主讲人,长度不超过20"}]})(c.default.createElement(d.Input,{placeholder:"请输入主讲人"})):a.speaker),c.default.createElement(N,l({label:"主办方"},t),this.state.isEdit?this.formUtils.getFieldDecorator("sponsor",{initialValue:a.sponsor,validateTrigger:["onChange","onBlur"],rules:[{min:1,max:20,message:"请输入主办方,长度不超过20"}]})(c.default.createElement(d.Input,{placeholder:"请输入主办方"})):a.sponsor),c.default.createElement(N,l({label:"路演简介"},t),this.state.isEdit?this.formUtils.getFieldDecorator("introduction",{initialValue:a.introduction,validateTrigger:["onChange","onBlur"],rules:[{max:100,message:"请输入路演简介,长度不超过100"}]})(c.default.createElement(d.Input,{className:z.default.feature,placeholder:"请输入路演简介"})):a.introduction),c.default.createElement(N,l({label:"排序"},t),this.state.isEdit?this.formUtils.getFieldDecorator("sequence",{initialValue:a.sequence||0,validateTrigger:["onBlur"],rules:[{required:!0,message:"请输入排序"}]})(c.default.createElement(d.InputNumber,{precision:0,min:0,max:999999999,placeholder:"排序"})):a.sequence,"(数值越小越靠前)"),c.default.createElement(N,l({label:"状态"},t),this.state.isEdit?this.formUtils.getFieldDecorator("status",{initialValue:void 0!=a.status||null!=a.status?a.status.toString():"1",validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请选择是否启用"}]})(c.default.createElement(q,{placeholder:"排序"},i.dic_roadshow_status&&i.dic_roadshow_status.map(function(e){return c.default.createElement(d.Radio,{key:e.value,value:e.value.toString()},e.label)}))):a.statusText),c.default.createElement(N,l({label:"发布时间"},t),this.state.isEdit?this.formUtils.getFieldDecorator("releaseTime",{initialValue:(0,D.default)(),validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"请输入发布时间"}]})(c.default.createElement(d.DatePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm",placeholder:"请输入发布时间"})):a.releaseTime?(0,D.default)(a.releaseTime):null,"(默认立即发布，您可以修改发布时间用于定时发布)"),c.default.createElement("div",{className:z.default.operation},c.default.createElement(d.Button,{onClick:this.cancel,className:z.default.clear},"取消"),c.default.createElement(d.Button,{onClick:this.save,className:z.default.submit},"保存"))))))}}]),t}(p.default);A=d.Form.create()(A),t.default=A},1698:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"gets",value:function(e){return i.default.get("/dictionary/gets",{codes:e})}}]),e}();t.default=l},1704:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"get_fields",value:function(e){return i.default.get("/product/get_fields",{typeId:e})}},{key:"add",value:function(e){return i.default.post("/product/add",e)}},{key:"update_base",value:function(e){return i.default.post("/product/base/update",e)}},{key:"update_status",value:function(e){return i.default.post("/product/update_status",e)}},{key:"del",value:function(e){return i.default.post("/product/delete",e)}},{key:"audit",value:function(e){return i.default.post("/product/control/audit/do",e)}},{key:"auditRecord",value:function(e){return i.default.get("/product/control/audit/get_history_audit_detail",{productId:e})}},{key:"update_base",value:function(e){return i.default.post("/product/base/update",e)}},{key:"update_sale",value:function(e){return i.default.post("/product/sale/update",e)}},{key:"update_quotation",value:function(e){return i.default.post("/product/supplier_quotation/update",e)}},{key:"update_commission",value:function(e){return i.default.post("/product/commission/update",e)}},{key:"update_income",value:function(e){return i.default.post("/product/income/update",e)}},{key:"focus",value:function(e){return i.default.post("/product/focus",{ids:e.join(",")})}},{key:"un_focus",value:function(e){return i.default.post("/product/cancel_focus",{ids:e.join(",")})}},{key:"get_detail",value:function(e){return i.default.get("/product/get_detail_by_id",{id:e})}},{key:"attach_add",value:function(e){return i.default.post("/product/attach/add",e)}},{key:"attach_update",value:function(e){return i.default.post("/product/attach/update",e)}},{key:"attach_delete",value:function(e){return i.default.post("/product/attach/delete",{id:e})}},{key:"get_product",value:function(e){return i.default.get("/product/get_select_option_list",{name:e})}},{key:"get_appointment_product",value:function(e){return i.default.get("/product/get_select_option_selling",{name:e})}},{key:"get_declaration_product",value:function(e){return i.default.get("/product/get_select_option_for_declaration",{name:e})}}]),e}();t.default=l},1717:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=o(u),c=n(42),d=n(1),f=o(d),p=n(1718),m=o(p),h=n(1723),g=o(h),v=c.Upload.Dragger,_=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.beforeUpload=function(e,t){var o=n.props,a=o.accept,r=o.fileSize,i=n.accept.indexOf(e.type)>-1;i||c.message.error("只支持这些类型文件:"+a+"!");var l=e.size<n.fileSize;return l||c.message.error("文件大小不能大于"+r),i&&l},n.onRemove=function(e){n.setState(function(t){var o=t.fileList,a=o.indexOf(e),r=o.slice();return r.splice(a,1),n.props.onRemove&&n.props.onRemove.call(n,e,n),{fileList:r}})},n.handleProgress=function(){n.uploader.onProgress(function(e,t){})},n.msgList={},n.showUploadMsg=function(e,t){var o=n.state.msgList;o[e.uid]&&o[e.uid].show?(o[e.uid].content=t,n.setState({msgList:o}),c.message.destroy(),c.message.success(t)):(o[e.uid]={content:t,show:!0},n.setState({msgList:o},function(){c.message.info(o[e.uid].content,function(){o[e.uid].show=!1,n.setState({msgList:o})})}))},n.handleChange=function(e){var t=e.file,o=e.fileList;if("done"===t.status){n.showUploadMsg(t,"文件上传成功");var a=t.response;if(a.success){var r=o.filter(function(e){return e.uid===t.uid})[0],i=r.response;i&&i.result&&(r.url=i.result.url,t.url=i.result.url),n.props.onSave&&n.props.onSave.call(n,t,n),n.props.onChange&&n.props.onChange.call(n,o,n)}else switch(n.onRemove(t),a.code){case 9e5:case 900001:return void(location.href="/login");default:c.message.destroy(),c.message.error(a.message)}}else if("uploading"===t.status){console.log("uploading"),console.log(t);0==t.percent?n.showUploadMsg(t,"文件正在上传中..."):t.percent,n.props.onChange&&n.props.onChange.call(n,o,n)}else"removed"===t.status?n.props.onChange&&n.props.onChange.call(n,o,n):"error"===t.status&&(c.message.destroy(),c.message.error("文件上传失败!"),n.onRemove(t));n.props.onChange&&n.props.onChange.call(n,o,n),n.setState({fileList:o})},n.state={fileList:e.fileList||[],msgList:{}},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.Mime=new m.default,this.fileSize=this.parseFileSize(this.props.fileSize),this.accept=this.Mime.extList2mimes(this.props.accept).join(",")}},{key:"componentWillReceiveProps",value:function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})}},{key:"clear",value:function(){var e=this;setTimeout(function(){e.setState({fileList:[]})})}},{key:"parseFileSize",value:function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),e}},{key:"handleEdit",value:function(e){var t=void 0;this.props.onClickMask&&(t=this.props.onClickMask.call(this,e)),(!1===this.props.editable||t)&&e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props.fileCount,n=!0,o=this.state.fileList,a=s.default.createElement("div",null,s.default.createElement(c.Icon,{type:"plus"}),s.default.createElement("div",{className:"ant-upload-text"},"Upload"));o?o.length>=t&&(n=!1):n=!0,t<=0&&(n=!1);var r=this.props,i=r.dragger,l=r.action,u=r.showUploadList,d=r.multiple,f=r.onRemove,p=r.children,m=i?v:c.Upload;return s.default.createElement("div",{className:"upload-card"+(n?"":" upload-card-uploaded")},s.default.createElement(m,{ref:function(t){return e.uploader=t},uploader:"uploader",name:"file",action:l,showUploadList:u,multiple:d,onRemove:f,onChange:this.handleChange,beforeUpload:this.beforeUpload,withCredentials:!0,accept:this.accept+","+this.props.accept.split(",").map(function(e){return"."+e}).join(","),fileList:this.state.fileList},n?p||a:null))}}],[{key:"Video",get:function(){return s.default.createElement(g.default,null)}}]),t}(s.default.Component);_.propTypes={multiple:f.default.bool,fileCount:f.default.number,action:f.default.string.isRequired},_.defaultProps={multiple:!1,accept:"doc,docx,xls,xlsx,pdf,png,jpg,jpeg,gif,txt",fileCount:10,fileSize:"30MB",action:"/api/file/upload"},t.default=_},1718:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.mimes={},this.extensions={},this.addMimeType(e.mimeData)}return a(e,[{key:"addMimeType",value:function(e){var t,n,o,a=e.split(/,/);for(t=0;t<a.length;t+=2){for(o=a[t+1].split(/ /),n=0;n<o.length;n++)this.mimes[o[n]]=a[t];this.extensions[a[t]]=o}}},{key:"extList2mimes",value:function(e,t){var n,o,a=this,r=e.split(/\s*,\s*/),i=[];for(n=0;n<r.length;n++){if("*"===r[n])return[];if(o=a.mimes[r[n]])-1===i.indexOf(o)&&i.push(o);else{if(!t||!/^\w+$/.test(r[n]))return[];i.push("."+r[n])}}return i}},{key:"mimes2exts",value:function(e){var t=this,n=[];return e.forEach(function(e){if("*"===e)return n=[],!1;var o=e.match(/^(\w+)\/(\*|\w+)$/);o&&("*"===o[2]?t.extensions.forEach(function(e,a){new RegExp("^"+o[1]+"/").test(a)&&[].push.apply(n,t.extensions[a])}):t.extensions[e]&&[].push.apply(n,t.extensions[e]))}),n}},{key:"mimes2extList",value:function(e){var t=[];return"string"==typeof e&&(e=e.trim().split(/\s*,\s*/)),t=this.mimes2exts(e),t.length?t.join(","):"*"}},{key:"getFileExtension",value:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""}},{key:"getFileMime",value:function(e){return this.mimes[this.getFileExtension(e)]||""}}]),e}();r.mimeData="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mp4v mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-f4v,f4v,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.rn-realmedia-vbr,rmvb,video/x-ms-asf,asf,video/x-ms-asf,asx,video/x-ms-wm,wm,video/x-pn-realvideo,ra,application/vnd.rn-realmedia,rm,video/x-pn-realvideo,ram,video/dvd,vob,application/octet-stream,dat,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",t.default=r},1720:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),d=o(c),f=n(42),p=n(357),m=(o(p),n(95)),h=o(m),g=n(188),v=(o(g),n(359)),_=o(v),y=n(84),b=o(y),w=void 0,x=f.Select.Option,k=function(e){function t(){var e,n,o,a;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={list:[],notFoundContent:null},o.getSearchCache=function(){var e=o.cacheName;if(console.log(o.cacheName),["search_customer_cache"].indexOf(e)>-1)return[];var t=o.storage.get(e)||[];return o.unique(t)},o.unique=function(e){var t=[],n=[];e.map(function(e){e&&-1==t.indexOf(e.key)&&(n.push({key:e.key,value:e.key,label:e.label}),t.push(e.key))});return n},o.updateSearchCache=function(e){var t=o.cacheName,n=o.getSearchCache(t);e&&t&&(n.unshift(e),o.storage.set(t,o.unique(n).splice(0,5)))},o.onSearch=function(){function e(){a(t).then(function(e){if(w===t&&e.success){var n=[];e.result.forEach(function(e){n.push(r(e))}),l.setState({list:n,notFoundContent:"无匹配结果"})}})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=o.props,a=n.request,r=n.format;n.name;if(!(t=t.replace(/(^\s*)|(\s*)$/g,""))&&!o.isProduct()&&!o.isVideo()){var i=o.getSearchCache();return void o.setState({list:i,notFoundContent:null})}o.timeout&&(clearTimeout(o.timeout),o.timeout=null);var l=o;w=t,o.timeout=setTimeout(e,300)},o.isProduct=function(){return["productId"].indexOf(o.props.name)>-1},o.isVideo=function(){return["videoId"].indexOf(o.props.name)>-1},o.onChange=function(e){var t={},n=[],a=void 0,r=o.props,i=r.name,l=r.formUtils;t[i]=e?e.key:"",l&&l.setFieldsValue(t),o.setState({selected:e||null}),e&&o.state.list&&(a=o.state.list.find(function(t){return t.value==e.key}),a.key=e.key),o.props.callback&&o.props.callback(a),o.isProduct()||o.isVideo()?o.onSearch():(e&&void 0!=e?o.updateSearchCache(e):n=o.getSearchCache(),o.setState({list:n}))},a=n,i(o,a)}return l(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props,t=(e.request,e.format,e.name),n=e.initData;h.default.getStorage("userInfo").id;if(this.cache=[],this.storage=new _.default("local","local"),["assistantId","receiverId","leaderId"].indexOf(t)>-1&&(this.cacheName="search_office_worker_cache"),this.isVideo()&&(this.cacheName="search_videoId_cache",this.onSearch("")),["customerId"].indexOf(t)>-1&&(this.cacheName="search_customer_cache"),this.isProduct()&&(this.cacheName="search_productId_cache",this.onSearch("")),!n||!n.value)if(this.isProduct()||this.isVideo())this.onSearch("");else{var o=this.getSearchCache();this.setState({list:o})}this.timeout=null}},{key:"render",value:function(){var e=this,t=this.props,n=t.initData,o=void 0===n?{}:n,r=t.placeholder,i=t.disabled,l=(a(t,["initData","placeholder","disabled"]),this.state.notFoundContent),s={};return o&&o.value&&(s.defaultValue={key:o.value.toString(),label:o.label}),d.default.createElement(f.Select,u({placeholder:r||"请输入选择",getPopupContainer:function(){return e.props.popupContainer?e.props.popupContainer:e.props.name?document.getElementById(e.props.name+"_FormItem"):document.body},labelInValue:!0,showSearch:!0,allowClear:!0,disabled:i,notFoundContent:l},s,{filterOption:!1,onSearch:this.onSearch,onChange:this.onChange}),this.state.list.map(function(e){return d.default.createElement(x,{key:e.value,disabled:e.disabled},e.label)}))}}]),t}(b.default);t.default=k},1721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n={},o={};for(var a in e)t.push(e[a]),n[a]=e[a].value,o[e[a].value]=e[a].text;return{dictionary:t,enum:n,keyValue:o}}},1722:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fileId:fileId};return i.default.post("/video/add",e)}},{key:"get",value:function(e){return i.default.get("/video/get",{id:e})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:id,name:name};return i.default.post("/video/update",e)}},{key:"getSignature",value:function(){return i.default.get("/video/get_upload_signature")}},{key:"delete",value:function(e){return i.default.post("/video/delete",{ids:e})}},{key:"transcode",value:function(e){return i.default.post("/video/convert",{ids:e})}},{key:"gets_by_name",value:function(e){return i.default.get("/video/gets_by_name",{name:e})}}]),e}();t.default=l},1723:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),d=n(42),f=n(1),p=o(f),m=n(1718),h=o(m),g=n(1722),v=o(g),_=d.Upload.Dragger,y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));b.call(n),n.mime=new h.default;var o=n.mime.extList2mimes(n.props.accept,!0);return n.state={fileList:[],msgList:{},accept:o},console.log("accept",o),n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){"infinite"!==this.props.fileSize&&(this.fileSize=this.parseFileSize(this.props.fileSize))}},{key:"componentWillReceiveProps",value:function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})}},{key:"clear",value:function(){var e=this;setTimeout(function(){e.setState({fileList:[]})})}},{key:"parseFileSize",value:function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),e}},{key:"render",value:function(){var e=this,t=this.props.fileCount,n=!0,o=this.state.fileList,r=c.default.createElement("div",null,c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("div",{className:"ant-upload-text"},"Upload"));o?o.length>=t&&(n=!1):n=!0,t<=0&&(n=!1);var i=this.props,l=i.dragger,u=i.action,s=i.showUploadList,f=i.multiple,p=i.onRemove,m=i.children,h=(a(i,["dragger","action","showUploadList","multiple","onRemove","children"]),l?_:d.Upload);return c.default.createElement("div",{className:"upload-card"+(n?"":" upload-card-uploaded")},c.default.createElement(h,{ref:function(t){return e.uploader=t},uploader:"uploader",name:"file",action:u,showUploadList:s,multiple:f,onRemove:p,beforeUpload:this.beforeUpload,withCredentials:!0,customRequest:this.customRequest,fileList:this.state.fileList},n?m||r:null))}}]),t}(s.Component);y.propTypes={multiple:p.default.bool,fileCount:p.default.number},y.defaultProps={multiple:!1,accept:"wmv,wm,asf,asx,rm,rmvb,ra,ram,mpg,mpeg,mpe,vob,dat,mov,3gp,mp4,mp4v,m4v,mkv,avi,flv,f4v",fileCount:10,fileSize:"infinite"};var b=function(){var e=this;this.beforeUpload=function(t,n){var o=e.props,a=(o.accept,o.fileSize),r=t.name.split(".")[t.name.split(".").length-1],i=e.state.accept.indexOf(t.type)>-1||e.props.accept.indexOf(r)>-1;i||d.message.error("不支持的文件格式");var l=!0;return e.fileSize&&((l=t.size<e.fileSize)||d.message.error("文件大小不能大于"+a)),i&&l},this.onRemove=function(t){e.setState(function(n){var o=n.fileList,a=o.indexOf(t),r=o.slice();return r.splice(a,1),e.props.onRemove&&e.props.onRemove.call(e,t,e),{fileList:r}})},this.handleProgress=function(){e.uploader.onProgress(function(e,t){console.log(e.state,e.percent)})},this.msgList={},this.showUploadMsg=function(t,n){var o=e.state.msgList;o[t.uid]&&o[t.uid].show?(o[t.uid].content=n,e.setState({msgList:o}),d.message.destroy(),d.message.success(n)):(o[t.uid]={content:n,show:!0},e.setState({msgList:o},function(){d.message.info(o[t.uid].content,function(){o[t.uid].show=!1,e.setState({msgList:o})})}))},this.start=function(t,o){var a=window,r=a.APP,i=t.uid,l=function(){return o?r.state[o]||[]:r.state.uploadVideoList||[]},u=function(e){var t={};o?t[o]=e:t.uploadVideoList=e,r.setState(t)},s=e,c=new v.default;n.e(0).then(function(){var e=n(728);window.$=e,window.jQuery=e,window.qcVideo.ugcUploader.start({videoFile:t,getSignature:function(e){c.getSignature().then(function(t){if(t&&t.success&&t.result)e(t.result);else{var n=l(),o=n?n.map(function(e){return e.uid==i&&(e.status="error"),e}):[];u(o),s.props.onError&&s.props.onError(t)}})},success:function(e){console.log("success")},error:function(e){console.log("上传失败:",e),console.log("上传失败的文件类型："+e.type),console.log("上传失败的原因："+e.msg),e.status="error";var t=l(),n=t?t.map(function(e){return e.uid==i&&(e.status="error"),e}):[];s.props.onError&&s.props.onError(e),u(n)},progress:function(e){console.log("上传进度:",e),console.log("上传进度的文件类型："+e.type),console.log("上传进度的文件名称："+e.name),console.log("上传进度："+e.shacurr);var t=l(),n=t?t.map(function(t){return t.uid==i&&(t.status="uploading",t.percent=100*e.shacurr||0),t}):[];s.props.onProgress&&s.props.onProgress(e),u(n)},finish:function(e){console.log("finish");var t=l();console.log("uploadVideoList",t),console.log("uid",i);var n=t?t.filter(function(e){return e.uid==i})[0]:{};if(n.fileId=e.fileId,s.props.onSave)return void s.props.onSave(n);c.add(n).then(function(e){var t="done";e.success||(t="error"),"done"==t&&d.notification.success({message:"视频上传成功",description:n.name+",该视频已成功上传"});var o=l(),a=o?o.map(function(e){return e.uid==i&&(e.status=t),e}):[];u(a)}),console.log("上传成功:",e),console.log("上传成功的文件类型："+e.type)}})}.bind(null,n)).catch(n.oe)},this.customRequest=function(t){var n=(t.onProgress,t.onError,t.onSuccess,t.data,t.filename,t.file);t.withCredentials,t.action,t.headers;console.log("file",n),e.props.onAdd&&e.props.onAdd(n)}};t.default=y},1744:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1721),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=(0,a.default)({PENDING:{text:"未提交",value:0},REVIEW:{text:"审批中",value:1},PASS:{text:"已通过",value:2},REJECT:{text:"已驳回",value:3},UNDO:{text:"已取消",value:4}}),i=(0,a.default)({NOONLINE:{text:"未上线",value:0},ONLINE:{text:"上线准备中",value:1},PRESALE:{text:"预售",value:2},RAISING:{text:"募集中",value:3},RAISED:{text:"募集结束",value:4},SEAL:{text:"存续封闭中",value:5},EXIT:{text:"清算退出",value:6}});t.default={EnumProductStatus:r,EnumProductIssuedStatus:i}},1754:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"get_platform",value:function(){return i.default.get("/platform/get_all")}},{key:"get_platform_web",value:function(){return i.default.get("/platform/get_web")}},{key:"get_platform_roadshow",value:function(){return i.default.get("/platform/get_roadshow_platform")}},{key:"get_roadshow_platform",value:function(){return i.default.get("/platform/get_roadshow_platform")}},{key:"get_position_by_platform",value:function(e){return i.default.get("/platform/get_position_by_platform",{platformId:e})}}]),e}();t.default=l},1854:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"add",value:function(e){return i.default.post("/roadshow/column/add",e)}},{key:"delete",value:function(e){return i.default.post("/roadshow/column/delete",{ids:e})}},{key:"get",value:function(e){return i.default.get("/roadshow/column/get",{id:e})}},{key:"update",value:function(e){return i.default.post("/roadshow/column/update",e)}},{key:"get_page",value:function(){return i.default.get("/roadshow/column/get_page")}},{key:"get_platform_column",value:function(e){return i.default.get("/roadshow/column/get_by_platform_id",{platformId:e})}}]),e}();t.default=l},1890:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e)}return a(e,[{key:"add",value:function(e){return i.default.post("/roadshow/add",e)}},{key:"delete",value:function(e){return i.default.post("/roadshow/delete",{ids:e})}},{key:"get",value:function(e){return i.default.get("/roadshow/get",{id:e})}},{key:"update",value:function(e){return i.default.post("/roadshow/update",e)}},{key:"get_page",value:function(){return i.default.get("/roadshow/get_page")}}]),e}();t.default=l},1958:function(e,t,n){t=e.exports=n(94)(void 0),t.push([e.i,".page___2RCrw .ant-form-item-label{text-align:left;width:200px}.page___2RCrw .page-content{padding:30px}.page___2RCrw .operation___298-F{display:flex;align-items:center}.page___2RCrw .operation___298-F .clear___11_4-{border:none;height:40px;display:inline-flex;align-items:center;justify-content:center;margin-right:10px;border:1px solid #465174;margin-left:10px}.page___2RCrw .operation___298-F .submit___3fUiM{background-color:#465174;border-radius:2px;border-color:#465174;height:40px;display:inline-flex;align-items:center;justify-content:center;color:#fff;font-family:PingFangSC-Medium,sans-serif;font-size:16px;color:#f2d5aa}.coverTemplate___1O0_K{max-height:500px;overflow-y:auto}.image___2jzt8{width:692px;height:388px;display:block;margin-right:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-bottom:10px}.image___2jzt8 .uploaded___Zjf7x{position:relative;width:100%;height:100%}.image___2jzt8 .uploaded___Zjf7x:hover .btns___1Tnl2{display:block}.image___2jzt8 .uploaded___Zjf7x .btns___1Tnl2{display:none}.image___2jzt8 .uploaded___Zjf7x .btns___1Tnl2 .anticon-close{cursor:pointer;position:absolute;top:10px;left:5px;border-radius:2px;background:rgba(0,0,0,.3);color:#d8d8d8;font-size:20px}.image___2jzt8 .upload_btn___1mBjT{background:#fbfbfb;border:1px dashed #d9d9d9;border-radius:2px;display:flex;align-content:center;justify-content:center;width:692px;height:388px;flex-direction:column}.image___2jzt8 .upload_btn___1mBjT .anticon{font-size:24px}.image___2jzt8 .upload_btn___1mBjT p{margin-top:12px;font-family:PingFangSC-Regular,sans-serif;font-size:12px;color:#666;line-height:18px;text-align:center}",""]),t.locals={page:"page___2RCrw",operation:"operation___298-F",clear:"clear___11_4-",submit:"submit___3fUiM",coverTemplate:"coverTemplate___1O0_K",image:"image___2jzt8",uploaded:"uploaded___Zjf7x",btns:"btns___1Tnl2",upload_btn:"upload_btn___1mBjT"}},2089:function(e,t,n){var o=n(1958);"string"==typeof o&&(o=[[e.i,o,""]]);var a={};a.transform=void 0;n(93)(o,a);o.locals&&(e.exports=o.locals)}});