webpackJsonp([55],{1694:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),c=n(1),f=a(c),d=n(42),p=n(84),m=a(p),h=n(358),_=a(h),b=n(2586),v=a(b),y=n(2179),g=a(y),w=n(2607),E=a(w),k=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.handleEdit=function(){a.customerLimitModal.show(a.state.customerLimit)},a.handleUpdate=function(e){a.setState({customerLimit:e})},n.data[t.NAME]&&(a.context=n),a.state={customerLimit:{}},a}return i(t,e),l(t,null,[{key:"NAME",get:function(){return"SystemConfigSale"}},{key:"contextTypes",get:function(){return{data:f.default.object}}}]),l(t,[{key:"componentWillMount",value:function(){var e=this;(new g.default).get_sale().then(function(t){t.success&&e.setState({customerLimit:t.result.opensea})})}},{key:"render",value:function(){var e=this,t=this.state.customerLimit;return s.default.createElement(_.default,this.props,s.default.createElement("div",{className:"page-breadcrumb"},s.default.createElement(d.Breadcrumb,null,s.default.createElement(d.Breadcrumb.Item,null,"系统管理"),s.default.createElement(d.Breadcrumb.Item,null,"销售管理配置"))),s.default.createElement("div",{className:"page-content"},s.default.createElement("section",null,s.default.createElement("div",null,s.default.createElement("span",{className:E.default.title},"公海客户领取上限：",0===t.takeLimitEnable?"不限制":t.takeLimitCount),s.default.createElement(d.Button,{className:E.default.action,onClick:this.handleEdit},"编辑")),s.default.createElement("div",{className:E.default.tip},"限制每个员工可以从公海中领取的客户数量上限"))),s.default.createElement(v.default,{ref:function(t){return e.customerLimitModal=t},callback:this.handleUpdate}))}}]),t}(m.default);t.default=k},1698:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){a(this,e)}return o(e,[{key:"gets",value:function(e){return i.default.get("/dictionary/gets",{codes:e})}}]),e}();t.default=l},1874:function(e,t,n){t=e.exports=n(94)(void 0),t.push([e.i,".edit_user_modal___HXaGB .ant-modal-body{padding:27px 46px}",""]),t.locals={edit_user_modal:"edit_user_modal___HXaGB"}},1936:function(e,t,n){var a=n(1874);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(93)(a,o);a.locals&&(e.exports=a.locals)},2179:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(188),i=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){a(this,e)}return o(e,[{key:"get_sale",value:function(){return i.default.get("/sys/conf/sale/get")}},{key:"update_sale",value:function(e){return i.default.post("/sys/conf/sale/update",e)}}]),e}();t.default=l},2200:function(e,t,n){t=e.exports=n(94)(void 0),t.push([e.i,".title___JKFoF{font-size:14px;font-weight:400}.tip___2XRF2{color:#999;margin-top:10px}.action___2dzAg{margin-left:100px}",""]),t.locals={title:"title___JKFoF",tip:"tip___2XRF2",action:"action___2dzAg"}},2586:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),c=a(s),f=n(42),d=n(357),p=a(d),m=n(84),h=a(m),_=n(2179),b=a(_),v=n(1698),y=a(v),g=n(1936),w=a(g),E=f.Form.Item,k=f.Radio.Group,O=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={options:[]},e}return i(t,e),u(t,[{key:"componentWillMount",value:function(){this.dictionary=new y.default,this.formUtils=this.props.formUtils||new p.default("customerLimitForm"),this.formUtils.setForm(this.props.form),this.props.setForm&&this.props.setForm.call(this,this),this.getDictionary()}},{key:"getDictionary",value:function(){var e=this;this.dictionary.gets("dic_conf_sale_opensea_limit").then(function(t){t.success&&t.result&&t.result.map(function(t){if("dic_conf_sale_opensea_limit"===t.value){var n=t.selections.map(function(e){return e.value=+e.value,e});e.setState({options:n})}})})}},{key:"render",value:function(){var e={labelCol:{span:8},wrapperCol:{span:16}},t=1===this.formUtils.getFieldValue("takeLimitEnable");return c.default.createElement(f.Form,{className:"float-slide-form vant-spin follow-form"},c.default.createElement(E,l({label:"是否限制"},e),this.props.formUtils.getFieldDecorator("takeLimitEnable",{initialValue:0})(c.default.createElement(k,{options:this.state.options}))),t?c.default.createElement(E,l({label:"限制数量"},e),this.props.formUtils.getFieldDecorator("takeLimitCount",{initialValue:this.props.formData.takeLimitCount,rules:[{required:!0,message:"请输入限制数"}]})(c.default.createElement(f.InputNumber,{min:0,max:999999999,style:{width:140}}))):null)}}]),t}(h.default),j=f.Form.create()(O),F=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCancel=function(){e.setState({visible:!1})},e.handleSubmit=function(t){t&&t.preventDefault();var n=new b.default;e.formUtils.validateFields(function(t){if(!t){var a=e.formUtils.getFieldsValue();n.update_sale(a).then(function(t){t.success&&(f.message.success("保存成功"),e.setState({visible:!1}),e.props.callback&&e.props.callback(a))})}})},e.state={visible:!1,formData:{}},e.formUtils=new p.default("customerLimitModal"),e}return i(t,e),u(t,[{key:"componentWillMount",value:function(){}},{key:"show",value:function(e){var t=this;this.setState({visible:!0,formData:e},function(){t.formUtils.setFieldsValue(e)})}},{key:"render",value:function(){var e=this;return c.default.createElement(f.Modal,{visible:this.state.visible,title:"公海客户领取上限",maskClosable:!1,closable:!1,width:450,className:"vant-modal "+w.default.edit_user_modal+" yundao-modal",wrapClassName:"vertical-center-modal",onCancel:this.handleCancel,onOk:this.handleSubmit},c.default.createElement(j,{formData:this.state.formData,ref:function(t){return e.customerLimitForm=t},formUtils:this.formUtils,setForm:function(t){return e.form=t}}))}}]),t}(h.default);t.default=F},2607:function(e,t,n){var a=n(2200);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(93)(a,o);a.locals&&(e.exports=a.locals)}});