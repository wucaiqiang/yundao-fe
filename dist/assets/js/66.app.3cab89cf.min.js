webpackJsonp([66],{1717:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(0),u=l(s),c=a(42),d=a(1),f=l(d),m=a(1718),p=l(m),_=a(1723),g=l(_),h=c.Upload.Dragger,v=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.beforeUpload=function(e,t){var l=a.props,n=l.accept,i=l.fileSize,r=a.accept.indexOf(e.type)>-1;r||c.message.error("只支持这些类型文件:"+n+"!");var o=e.size<a.fileSize;return o||c.message.error("文件大小不能大于"+i),r&&o},a.onRemove=function(e){a.setState(function(t){var l=t.fileList,n=l.indexOf(e),i=l.slice();return i.splice(n,1),a.props.onRemove&&a.props.onRemove.call(a,e,a),{fileList:i}})},a.handleProgress=function(){a.uploader.onProgress(function(e,t){})},a.msgList={},a.showUploadMsg=function(e,t){var l=a.state.msgList;l[e.uid]&&l[e.uid].show?(l[e.uid].content=t,a.setState({msgList:l}),c.message.destroy(),c.message.success(t)):(l[e.uid]={content:t,show:!0},a.setState({msgList:l},function(){c.message.info(l[e.uid].content,function(){l[e.uid].show=!1,a.setState({msgList:l})})}))},a.handleChange=function(e){var t=e.file,l=e.fileList;if("done"===t.status){a.showUploadMsg(t,"文件上传成功");var n=t.response;if(n.success){var i=l.filter(function(e){return e.uid===t.uid})[0],r=i.response;r&&r.result&&(i.url=r.result.url,t.url=r.result.url),a.props.onSave&&a.props.onSave.call(a,t,a),a.props.onChange&&a.props.onChange.call(a,l,a)}else switch(a.onRemove(t),n.code){case 9e5:case 900001:return void(location.href="/login");default:c.message.destroy(),c.message.error(n.message)}}else if("uploading"===t.status){console.log("uploading"),console.log(t);0==t.percent?a.showUploadMsg(t,"文件正在上传中..."):t.percent,a.props.onChange&&a.props.onChange.call(a,l,a)}else"removed"===t.status?a.props.onChange&&a.props.onChange.call(a,l,a):"error"===t.status&&(c.message.destroy(),c.message.error("文件上传失败!"),a.onRemove(t));a.props.onChange&&a.props.onChange.call(a,l,a),a.setState({fileList:l})},a.state={fileList:e.fileList||[],msgList:{}},a}return r(t,e),o(t,[{key:"componentWillMount",value:function(){this.Mime=new p.default,this.fileSize=this.parseFileSize(this.props.fileSize),this.accept=this.Mime.extList2mimes(this.props.accept).join(",")}},{key:"componentWillReceiveProps",value:function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})}},{key:"clear",value:function(){var e=this;setTimeout(function(){e.setState({fileList:[]})})}},{key:"parseFileSize",value:function(e){if("string"!=typeof e)return e;var t,a={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],a.hasOwnProperty(t)&&(e*=a[t]),e}},{key:"handleEdit",value:function(e){var t=void 0;this.props.onClickMask&&(t=this.props.onClickMask.call(this,e)),(!1===this.props.editable||t)&&e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props.fileCount,a=!0,l=this.state.fileList,n=u.default.createElement("div",null,u.default.createElement(c.Icon,{type:"plus"}),u.default.createElement("div",{className:"ant-upload-text"},"Upload"));l?l.length>=t&&(a=!1):a=!0,t<=0&&(a=!1);var i=this.props,r=i.dragger,o=i.action,s=i.showUploadList,d=i.multiple,f=i.onRemove,m=i.children,p=r?h:c.Upload;return u.default.createElement("div",{className:"upload-card"+(a?"":" upload-card-uploaded")},u.default.createElement(p,{ref:function(t){return e.uploader=t},uploader:"uploader",name:"file",action:o,showUploadList:s,multiple:d,onRemove:f,onChange:this.handleChange,beforeUpload:this.beforeUpload,withCredentials:!0,accept:this.accept+","+this.props.accept.split(",").map(function(e){return"."+e}).join(","),fileList:this.state.fileList},a?m||n:null))}}],[{key:"Video",get:function(){return u.default.createElement(g.default,null)}}]),t}(u.default.Component);v.propTypes={multiple:f.default.bool,fileCount:f.default.number,action:f.default.string.isRequired},v.defaultProps={multiple:!1,accept:"doc,docx,xls,xlsx,pdf,png,jpg,jpeg,gif,txt",fileCount:10,fileSize:"30MB",action:"/api/file/upload"},t.default=v},1718:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),i=function(){function e(){l(this,e),this.mimes={},this.extensions={},this.addMimeType(e.mimeData)}return n(e,[{key:"addMimeType",value:function(e){var t,a,l,n=e.split(/,/);for(t=0;t<n.length;t+=2){for(l=n[t+1].split(/ /),a=0;a<l.length;a++)this.mimes[l[a]]=n[t];this.extensions[n[t]]=l}}},{key:"extList2mimes",value:function(e,t){var a,l,n=this,i=e.split(/\s*,\s*/),r=[];for(a=0;a<i.length;a++){if("*"===i[a])return[];if(l=n.mimes[i[a]])-1===r.indexOf(l)&&r.push(l);else{if(!t||!/^\w+$/.test(i[a]))return[];r.push("."+i[a])}}return r}},{key:"mimes2exts",value:function(e){var t=this,a=[];return e.forEach(function(e){if("*"===e)return a=[],!1;var l=e.match(/^(\w+)\/(\*|\w+)$/);l&&("*"===l[2]?t.extensions.forEach(function(e,n){new RegExp("^"+l[1]+"/").test(n)&&[].push.apply(a,t.extensions[n])}):t.extensions[e]&&[].push.apply(a,t.extensions[e]))}),a}},{key:"mimes2extList",value:function(e){var t=[];return"string"==typeof e&&(e=e.trim().split(/\s*,\s*/)),t=this.mimes2exts(e),t.length?t.join(","):"*"}},{key:"getFileExtension",value:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""}},{key:"getFileMime",value:function(e){return this.mimes[this.getFileExtension(e)]||""}}]),e}();i.mimeData="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mp4v mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-f4v,f4v,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.rn-realmedia-vbr,rmvb,video/x-ms-asf,asf,video/x-ms-asf,asx,video/x-ms-wm,wm,video/x-pn-realvideo,ra,application/vnd.rn-realmedia,rm,video/x-pn-realvideo,ram,video/dvd,vob,application/octet-stream,dat,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",t.default=i},1722:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),i=a(188),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){function e(){l(this,e)}return n(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fileId:fileId};return r.default.post("/video/add",e)}},{key:"get",value:function(e){return r.default.get("/video/get",{id:e})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:id,name:name};return r.default.post("/video/update",e)}},{key:"getSignature",value:function(){return r.default.get("/video/get_upload_signature")}},{key:"delete",value:function(e){return r.default.post("/video/delete",{ids:e})}},{key:"transcode",value:function(e){return r.default.post("/video/convert",{ids:e})}},{key:"gets_by_name",value:function(e){return r.default.get("/video/gets_by_name",{name:e})}}]),e}();t.default=o},1723:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),c=l(u),d=a(42),f=a(1),m=l(f),p=a(1718),_=l(p),g=a(1722),h=l(g),v=d.Upload.Dragger,b=function(e){function t(e){i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(a),a.mime=new _.default;var l=a.mime.extList2mimes(a.props.accept,!0);return a.state={fileList:[],msgList:{},accept:l},console.log("accept",l),a}return o(t,e),s(t,[{key:"componentWillMount",value:function(){"infinite"!==this.props.fileSize&&(this.fileSize=this.parseFileSize(this.props.fileSize))}},{key:"componentWillReceiveProps",value:function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})}},{key:"clear",value:function(){var e=this;setTimeout(function(){e.setState({fileList:[]})})}},{key:"parseFileSize",value:function(e){if("string"!=typeof e)return e;var t,a={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],a.hasOwnProperty(t)&&(e*=a[t]),e}},{key:"render",value:function(){var e=this,t=this.props.fileCount,a=!0,l=this.state.fileList,i=c.default.createElement("div",null,c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("div",{className:"ant-upload-text"},"Upload"));l?l.length>=t&&(a=!1):a=!0,t<=0&&(a=!1);var r=this.props,o=r.dragger,s=r.action,u=r.showUploadList,f=r.multiple,m=r.onRemove,p=r.children,_=(n(r,["dragger","action","showUploadList","multiple","onRemove","children"]),o?v:d.Upload);return c.default.createElement("div",{className:"upload-card"+(a?"":" upload-card-uploaded")},c.default.createElement(_,{ref:function(t){return e.uploader=t},uploader:"uploader",name:"file",action:s,showUploadList:u,multiple:f,onRemove:m,beforeUpload:this.beforeUpload,withCredentials:!0,customRequest:this.customRequest,fileList:this.state.fileList},a?p||i:null))}}]),t}(u.Component);b.propTypes={multiple:m.default.bool,fileCount:m.default.number},b.defaultProps={multiple:!1,accept:"wmv,wm,asf,asx,rm,rmvb,ra,ram,mpg,mpeg,mpe,vob,dat,mov,3gp,mp4,mp4v,m4v,mkv,avi,flv,f4v",fileCount:10,fileSize:"infinite"};var y=function(){var e=this;this.beforeUpload=function(t,a){var l=e.props,n=(l.accept,l.fileSize),i=t.name.split(".")[t.name.split(".").length-1],r=e.state.accept.indexOf(t.type)>-1||e.props.accept.indexOf(i)>-1;r||d.message.error("不支持的文件格式");var o=!0;return e.fileSize&&((o=t.size<e.fileSize)||d.message.error("文件大小不能大于"+n)),r&&o},this.onRemove=function(t){e.setState(function(a){var l=a.fileList,n=l.indexOf(t),i=l.slice();return i.splice(n,1),e.props.onRemove&&e.props.onRemove.call(e,t,e),{fileList:i}})},this.handleProgress=function(){e.uploader.onProgress(function(e,t){console.log(e.state,e.percent)})},this.msgList={},this.showUploadMsg=function(t,a){var l=e.state.msgList;l[t.uid]&&l[t.uid].show?(l[t.uid].content=a,e.setState({msgList:l}),d.message.destroy(),d.message.success(a)):(l[t.uid]={content:a,show:!0},e.setState({msgList:l},function(){d.message.info(l[t.uid].content,function(){l[t.uid].show=!1,e.setState({msgList:l})})}))},this.start=function(t,l){var n=window,i=n.APP,r=t.uid,o=function(){return l?i.state[l]||[]:i.state.uploadVideoList||[]},s=function(e){var t={};l?t[l]=e:t.uploadVideoList=e,i.setState(t)},u=e,c=new h.default;a.e(0).then(function(){var e=a(728);window.$=e,window.jQuery=e,window.qcVideo.ugcUploader.start({videoFile:t,getSignature:function(e){c.getSignature().then(function(t){if(t&&t.success&&t.result)e(t.result);else{var a=o(),l=a?a.map(function(e){return e.uid==r&&(e.status="error"),e}):[];s(l),u.props.onError&&u.props.onError(t)}})},success:function(e){console.log("success")},error:function(e){console.log("上传失败:",e),console.log("上传失败的文件类型："+e.type),console.log("上传失败的原因："+e.msg),e.status="error";var t=o(),a=t?t.map(function(e){return e.uid==r&&(e.status="error"),e}):[];u.props.onError&&u.props.onError(e),s(a)},progress:function(e){console.log("上传进度:",e),console.log("上传进度的文件类型："+e.type),console.log("上传进度的文件名称："+e.name),console.log("上传进度："+e.shacurr);var t=o(),a=t?t.map(function(t){return t.uid==r&&(t.status="uploading",t.percent=100*e.shacurr||0),t}):[];u.props.onProgress&&u.props.onProgress(e),s(a)},finish:function(e){console.log("finish");var t=o();console.log("uploadVideoList",t),console.log("uid",r);var a=t?t.filter(function(e){return e.uid==r})[0]:{};if(a.fileId=e.fileId,u.props.onSave)return void u.props.onSave(a);c.add(a).then(function(e){var t="done";e.success||(t="error"),"done"==t&&d.notification.success({message:"视频上传成功",description:a.name+",该视频已成功上传"});var l=o(),n=l?l.map(function(e){return e.uid==r&&(e.status=t),e}):[];s(n)}),console.log("上传成功:",e),console.log("上传成功的文件类型："+e.type)}})}.bind(null,a)).catch(a.oe)},this.customRequest=function(t){var a=(t.onProgress,t.onError,t.onSuccess,t.data,t.filename,t.file);t.withCredentials,t.action,t.headers;console.log("file",a),e.props.onAdd&&e.props.onAdd(a)}};t.default=b},1761:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(0),u=l(s),c=a(84),d=l(c),f=a(42),m=a(1726),p=l(m),_=a(2084),g=l(_),h=a(2085),v=l(h),b=a(1775),y=l(b),E=(f.Layout.Header,f.Layout.Content,f.Layout.Footer,f.Layout.Sider,f.Tabs.TabPane,function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,visible:!1,tipMessage:""},a.getValidate=function(){var e=a.props.data;a.declaration.validate(e.id).then(function(e){a.setState({tipMessage:e.success?"":e.message})})},a}return r(t,e),o(t,[{key:"componentWillMount",value:function(){this.declaration=new p.default,this.getValidate()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.mod,l=this.state.tipMessage;return u.default.createElement("div",{className:y.default.declaration_detail},u.default.createElement(g.default,{data:t}),l?u.default.createElement("div",{className:y.default.alert},u.default.createElement(f.Alert,{message:u.default.createElement("p",null,"待完善资料：",l),type:"warning",showIcon:!0})):null,u.default.createElement("div",{className:y.default.content},u.default.createElement(v.default,{data:t,mod:a,parent:this})))}}]),t}(d.default));t.default=E},1775:function(e,t,a){var l=a(1982);"string"==typeof l&&(l=[[e.i,l,""]]);var n={};n.transform=void 0;a(93)(l,n);l.locals&&(e.exports=l.locals)},1858:function(e,t,a){t=e.exports=a(94)(void 0),t.push([e.i,".modal___2eFjY .ant-modal-body{padding:0}",""]),t.locals={modal:"modal___2eFjY"}},1887:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),c=a(0),d=l(c),f=a(42),m=a(33),p=(l(m),a(84)),_=l(p),g=a(357),h=l(g),v=a(95),b=(l(v),a(1700)),y=l(b),E=a(1916),x=l(E),w=(y.default.GridManager,y.default.FilterBar,y.default.GridInputFilter,y.default.GridRangeFilter,y.default.GridSortFilter,y.default.GridDateFilter,y.default.GridCheckboxFilter,640),k=function(e){function t(e){i(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.initVideo=function(){var e=l.state.data;a.e(67).then(function(){var t=a(1853),n=t.TcPlayer;console.log("TcPlayer",n);var i=e.video;if(i&&!l.player){var r={mp4:i?i.url:null,autoplay:!1,flash:!1,coverpic:i?i.coverUrl:null,width:w,height:w/16*9,wording:{1:"网络错误，请检查网络配置或者播放链接是否正确",2:"网络错误，请检查网络配置或者播放链接是否正确",3:"视频解码错误",4:"当前系统环境不支持播放该视频格式",5:"当前系统环境不支持播放该视频格式",10:"请勿在file协议下使用播放器，可能会导致视频无法播放",11:"使用参数有误，请检查播放器调用代码\t",12:"请填写视频播放地址",13:"直播已结束,请稍后再来",1001:"网络错误，请检查网络配置或者播放链接是否正确",1002:"获取视频失败，请检查播放链接是否有效",2032:"请求视频失败，请检查网络",2048:"请求m3u8文件失败，可能是网络错误或者跨域问题"}};l.player=new n("preview",r),console.log("this.player",l.player)}}.bind(null,a)).catch(a.oe)},l.handleClose=function(){l.hide()},l.hide=function(){try{l.player.pause()}catch(e){}l.player=null,l.setState({dataSource:[],visible:!1})},l.state={visible:!1,data:{}},l.formUtils=new h.default("EditVideoUploadListModal"),l}return o(t,e),u(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"show",value:function(e){var t=this;!(arguments.length>1&&void 0!==arguments[1])||arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setState({data:e,isEdit:!0,visible:!0},function(){t.initVideo(e)})}},{key:"render",value:function(){var e=this.state,t=e.visible;e.data,e.hidden;return d.default.createElement(f.Modal,s(n({visible:t,closable:!0,title:null,width:640,className:"vant-modal yundao-modal  "+x.default.modal+" ",wrapClassName:"vertical-center-modal",footer:null,onCancel:this.handleClose},"closable",!1),this.props),d.default.createElement("div",{id:"preview"}))}}]),t}(_.default);t.default=k},1916:function(e,t,a){var l=a(1858);"string"==typeof l&&(l=[[e.i,l,""]]);var n={};n.transform=void 0;a(93)(l,n);l.locals&&(e.exports=l.locals)},1982:function(e,t,a){t=e.exports=a(94)(void 0),t.push([e.i,'.float-declaration-detail-wrap{z-index:11}.declaration_detail___1RtXi{background-color:#f2f4f7}.declaration_detail___1RtXi .header___3iySY{padding:20px;background-color:#fff;font-family:PingFangSC-Regular,sans-serif}.declaration_detail___1RtXi .header___3iySY .number___rcvpY{position:absolute;right:30px;top:20px;color:#999;font-size:15px}.declaration_detail___1RtXi .header___3iySY .number___rcvpY span{margin-right:10px}.declaration_detail___1RtXi .header___3iySY .status___1nCtm{background:rgba(224,228,232,.25);font-family:PingFangSC-Medium;font-size:16px;color:#666;border-radius:2px;padding:9px 16px;display:inline-block;margin-left:23px}.declaration_detail___1RtXi .header___3iySY .remark___291Vg{font-family:PingFangSC-Regular;font-size:14px;color:#666;margin-top:24px}.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .date___39-Hk,.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .money___25-Gu{display:inline-block;font-family:PingFangSC-Regular;font-size:16px;color:#666;position:relative}.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .date___39-Hk span,.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .money___25-Gu span{color:#999;margin-right:10px}.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .money___25-Gu{padding-right:23px}.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .money___25-Gu:after{border:1px solid #e0e4e8;content:" ";right:0;width:1px;height:auto;position:absolute;top:6px;bottom:3px}.declaration_detail___1RtXi .header___3iySY .summary___1-Cgn .date___39-Hk{margin-left:23px}.declaration_detail___1RtXi .header___3iySY .title___5C4u4{font-size:24px;color:#475372;margin-bottom:25px;padding-right:200px}.declaration_detail___1RtXi .header___3iySY .title___5C4u4 .btnfollow___1TxU_{display:inline-flex;align-items:center;justify-content:center;margin-left:30px;width:100px;height:40px;line-height:40px;vertical-align:middle;border-radius:2px;text-align:center;font-family:PingFangSC-Medium;font-size:16px;background:#465174;color:#f2d5aa}.declaration_detail___1RtXi .header___3iySY .title___5C4u4 .btnfollow___1TxU_ img{width:18px;margin-right:6px}.declaration_detail___1RtXi .header___3iySY .title___5C4u4 .btnfollow___1TxU_.active___2zmDT{background:rgba(224,228,232,.2);color:#666}.declaration_detail___1RtXi .header___3iySY .alert___13-b3{margin-bottom:10px}.declaration_detail___1RtXi .tags___1NQbx span{display:inline-block;background:rgba(71,83,114,.1);border-radius:2px;font-size:12px;color:#475372;padding:7px 11px;margin-right:12px}.declaration_detail___1RtXi .ant_btn_plus___15WTS{width:40px;height:40px;padding:0;min-width:40px;border-color:#f2d5aa;float:right}.declaration_detail___1RtXi .ant_btn_plus___15WTS .anticon-plus{color:#f04134}.declaration_detail___1RtXi .trading___5Ul9X .title___5C4u4{margin-top:35px;margin-bottom:15px;color:#999;font-size:14px}.declaration_detail___1RtXi .follow___1vPby{margin-right:-24px;margin-left:-24px;padding:15px 24px 0;border-top:1px dotted #e0e4e8}.declaration_detail___1RtXi .dynamic_empty___B97F5,.declaration_detail___1RtXi .follow_empty___2GjSy{text-align:center}.declaration_detail___1RtXi .dynamic_item___3zJMp:first-child .dynamic_item_time___11BpZ:before,.declaration_detail___1RtXi .dynamic_item___3zJMp:first-child .follow_item_time___3hw8B:before,.declaration_detail___1RtXi .follow_item___115tq:first-child .dynamic_item_time___11BpZ:before,.declaration_detail___1RtXi .follow_item___115tq:first-child .follow_item_time___3hw8B:before{visibility:hidden}.declaration_detail___1RtXi .dynamic_item_time___11BpZ,.declaration_detail___1RtXi .follow_item_time___3hw8B{position:relative;height:40px;line-height:40px;text-indent:32px;font-size:13px;color:#475372}.declaration_detail___1RtXi .dynamic_item_time___11BpZ:after,.declaration_detail___1RtXi .dynamic_item_time___11BpZ:before,.declaration_detail___1RtXi .follow_item_time___3hw8B:after,.declaration_detail___1RtXi .follow_item_time___3hw8B:before{content:" ";position:absolute;left:20px;width:1px;height:14px;background-color:#e0e4e8}.declaration_detail___1RtXi .dynamic_item_time___11BpZ:before,.declaration_detail___1RtXi .follow_item_time___3hw8B:before{top:0}.declaration_detail___1RtXi .dynamic_item_time___11BpZ:after,.declaration_detail___1RtXi .follow_item_time___3hw8B:after{bottom:0}.declaration_detail___1RtXi .dynamic_item_time___11BpZ span:before,.declaration_detail___1RtXi .follow_item_time___3hw8B span:before{content:" ";position:absolute;top:17px;left:17px;width:7px;height:7px;background-color:#f2d4aa;border-radius:50%}.declaration_detail___1RtXi .dynamic_item_body___IHAnl,.declaration_detail___1RtXi .follow_item_body___1HIp_{padding:15px;background-color:#f2f4f7;color:#666}.declaration_detail___1RtXi .dynamic_item_body_label___8N2Tx,.declaration_detail___1RtXi .follow_item_body_label___10XZ4{font-family:PingFangSC-Regular,sans-serif;color:#2a2a2a}.declaration_detail___1RtXi .pagination___YmEZd{margin-top:30px;text-align:right}.declaration_detail___1RtXi .pagination___YmEZd .ant-btn{padding:0 7px;min-width:18px;border-color:#e9e9e9;border-radius:2px;color:#d4a667}.declaration_detail___1RtXi .pagination___YmEZd .ant-btn[disabled]{color:#999}.declaration_detail___1RtXi .pagination___YmEZd .ant-btn:last-child{margin-left:20px}.content___DCghg{padding:1.5rem}.content___DCghg .card___1Tsb-{background:#fff;border-radius:2px;margin-bottom:24px}.content___DCghg .card___1Tsb- .header___3iySY{border-bottom:1px solid #e0e4e8;display:flex;justify-content:space-between;align-items:center;padding:19px 20px}.content___DCghg .card___1Tsb- .header___3iySY .title___5C4u4{font-family:PingFangSC-Medium,sans-serif;font-size:16px;color:#475372;margin-bottom:0}.content___DCghg .card___1Tsb- .header___3iySY .icons___2gB45 .anticon{font-size:16px;margin-left:10px;cursor:pointer;color:#f2d4aa;display:inline-block;width:28px;height:28px;line-height:28px}.content___DCghg .card___1Tsb- .header___3iySY .icons___2gB45 .anticon img{width:16px}.content___DCghg .card___1Tsb- .header___3iySY .icons___2gB45 .anticon.anticon-edit{font-size:16px;width:16px;height:16px}.content___DCghg .card___1Tsb- .header___3iySY .icons___2gB45 .anticon img{width:100%}.content___DCghg .card___1Tsb- .content___DCghg{padding:24px 20px;overflow:auto}.content___DCghg .card___1Tsb- .content___DCghg .ant-form-item-label label{font-family:PingFangSC-Regular,sans-serif;font-size:14px;color:#999;line-height:40px}.content___DCghg .card___1Tsb- .content___DCghg .ant-form-item-control{line-height:40px!important;font-family:PingFangSC-Regular,sans-serif;font-size:17px;color:#666}.content___DCghg .ant-tabs-ink-bar{background:#f2d4aa}.content___DCghg .ant-tabs-bar{margin-bottom:0;background-color:#fff;border-bottom:2px solid #e0e4e8}.content___DCghg .ant-tabs-tab{margin-right:0;padding:19px 28px 14px;font-family:PingFangSC-Regular,sans-serif;font-size:18px;color:#999}.content___DCghg .ant-tabs-tab.ant-tabs-tab-active{color:#475372}.content___DCghg .ant-tabs-tabpane{padding:20px 20px 50px;background-color:#fff}.content___DCghg .ant-card-head{height:60px;line-height:60px;border-bottom:2px solid #e0e4e8}.content___DCghg .ant-card-head .ant-card-head-title{color:#475372;font-size:18px;vertical-align:middle}.content___DCghg .actions___15ypp{margin-top:35px;margin-bottom:45px;text-align:right}.content___DCghg .actions___15ypp .ant-btn{height:40px;background-color:#465174;border-radius:2px;border-color:#465174;font-size:14px;color:#f2d5aa}.content___DCghg .images___2CU-z .image___2tMsY{width:90px;height:90px;display:block;float:left;margin-right:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-bottom:10px}.content___DCghg .images___2CU-z .image___2tMsY img{width:100%;height:100%}.content___DCghg .images___2CU-z .image___2tMsY .video_noCover___9xxJ4{background:#fbfbfb}.content___DCghg .images___2CU-z .image___2tMsY .video____hx1f,.content___DCghg .images___2CU-z .image___2tMsY .video_noCover___9xxJ4{font-size:12px;line-height:1;word-break:break-word;width:90px;height:90px;text-align:center;display:flex;align-items:center;justify-content:center;color:#666;border:1px dashed #d9d9d9}.content___DCghg .images___2CU-z .image___2tMsY .video____hx1f{background:#867e7e;position:relative}.content___DCghg .images___2CU-z .image___2tMsY .video____hx1f .vcp-playtoggle{cursor:pointer;position:relative;z-index:1001;width:3em;height:100%;float:left;background-image:url(//imgcache.qq.com/open/qcloud/video/vcplayer/img/play_btn.png);background-image:url(//imgcache.qq.com/open/qcloud/video/vcplayer/img/play_btn.svg),none;position:absolute;left:50%;margin-left:-1.5em;top:50%;margin-top:-1.5em;height:3em}.content___DCghg .images___2CU-z .image___2tMsY .uploaded___27i5_{position:relative;width:90px;height:90px}.content___DCghg .images___2CU-z .image___2tMsY .uploaded___27i5_:hover .btns___3iEAE{display:block}.content___DCghg .images___2CU-z .image___2tMsY .uploaded___27i5_ .btns___3iEAE{display:none}.content___DCghg .images___2CU-z .image___2tMsY .uploaded___27i5_ .btns___3iEAE .anticon-close{cursor:pointer;position:absolute;top:10px;left:5px;border-radius:2px;background:rgba(0,0,0,.3);color:#d8d8d8;font-size:20px}.content___DCghg .images___2CU-z .image___2tMsY .upload_btn___1GOs6{background:#fbfbfb;border:1px dashed #d9d9d9;border-radius:2px;display:flex;align-content:center;justify-content:center;width:90px;height:90px;flex-direction:column}.content___DCghg .images___2CU-z .image___2tMsY .upload_btn___1GOs6 .anticon{font-size:24px}.content___DCghg .images___2CU-z .image___2tMsY .upload_btn___1GOs6 p{margin-top:12px;font-family:PingFangSC-Regular,sans-serif;font-size:12px;color:#666;line-height:18px;text-align:center}',""]),t.locals={declaration_detail:"declaration_detail___1RtXi",header:"header___3iySY",number:"number___rcvpY",status:"status___1nCtm",remark:"remark___291Vg",summary:"summary___1-Cgn",money:"money___25-Gu",date:"date___39-Hk",title:"title___5C4u4",btnfollow:"btnfollow___1TxU_",active:"active___2zmDT",alert:"alert___13-b3",tags:"tags___1NQbx",ant_btn_plus:"ant_btn_plus___15WTS",trading:"trading___5Ul9X",follow:"follow___1vPby",follow_empty:"follow_empty___2GjSy",dynamic_empty:"dynamic_empty___B97F5",follow_item:"follow_item___115tq",follow_item_time:"follow_item_time___3hw8B",dynamic_item_time:"dynamic_item_time___11BpZ",dynamic_item:"dynamic_item___3zJMp",follow_item_body:"follow_item_body___1HIp_",dynamic_item_body:"dynamic_item_body___IHAnl",follow_item_body_label:"follow_item_body_label___10XZ4",dynamic_item_body_label:"dynamic_item_body_label___8N2Tx",pagination:"pagination___YmEZd",content:"content___DCghg",card:"card___1Tsb-",icons:"icons___2gB45",actions:"actions___15ypp",images:"images___2CU-z",image:"image___2tMsY",video_noCover:"video_noCover___9xxJ4",video:"video____hx1f",uploaded:"uploaded___27i5_",btns:"btns___3iEAE",upload_btn:"upload_btn___1GOs6"}},2080:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),c=l(u),d=a(42),f=a(242),m=(l(f),a(1775)),p=l(m),_=a(1726),g=l(_),h=a(1698),v=(l(h),a(357)),b=l(v),y=a(84),E=l(y),x=a(1717),w=l(x),k=d.Form.Item,U=(d.Select.Option,d.Radio.Group,"DeclarationBankInfoForm"),N=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.formatData=function(e){return e},a.state={data:a.props.data,dic:{},category:[]},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.formUtils=this.props.formUtils||this.formUtils,this.formUtils.setForm(this.props.form)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.data!==this.state.data){var a=this.formatData(e.data);this.setState({data:a},function(){t.formUtils&&(t.formUtils.resetFields(),t.formUtils.setFieldsValue(a))})}}},{key:"render",value:function(){var e=this,t=this.props.data,a={labelCol:{span:24},wrapperCol:{span:24}},l=t&&t.customerBank,n=2==t.status||1==t.status;return c.default.createElement("div",{id:U},c.default.createElement(d.Form,null,c.default.createElement(k,o({label:"银行卡帐号",required:!0},a),n?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{style:{display:"inline-block"}},this.formUtils.getFieldDecorator("account",{initialValue:l&&l.account,rules:[{min:1,max:30,message:"银行卡账号长度必须在1到30位之间"}]})(c.default.createElement(d.Input,{size:"large",disabled:!0})))):this.formUtils.getFieldDecorator("account",{initialValue:l&&l.account,rules:[{min:1,max:30,message:"银行卡账号长度必须在1到30位之间"}]})(c.default.createElement(d.Input,{size:"large"}))),c.default.createElement(k,o({label:"开户行",required:!0},a),n?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{style:{display:"inline-block"}},this.formUtils.getFieldDecorator("bankName",{initialValue:l&&l.bankName})(c.default.createElement(d.Input,{size:"large",disabled:!0})))):this.formUtils.getFieldDecorator("bankName",{initialValue:l&&l.bankName})(c.default.createElement(d.Input,{size:"large"}))),c.default.createElement(k,o({label:"银行卡正反面",required:!0},a),c.default.createElement("ul",{className:p.default.images},c.default.createElement("li",{className:p.default.image},this.formUtils.getFieldDecorator("front",{initialValue:l&&l.front})(c.default.createElement(d.Input,{type:"hidden"})),n?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"}," ",l&&l.front?c.default.createElement("img",{src:l.front,alt:"银行卡正面"}):c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传正面")))):c.default.createElement(w.default,{showUploadList:!1,max:1,onSave:function(t){e.formUtils.setFieldsValue({front:t.url})}},this.formUtils.getFieldValue("front")?c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:this.formUtils.getFieldValue("front"),alt:"银行卡正面"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.formUtils.setFieldsValue({front:""})}}))):c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传正面")))),c.default.createElement("li",{className:p.default.image},this.formUtils.getFieldDecorator("back",{initialValue:l&&l.back})(c.default.createElement(d.Input,{type:"hidden"})),n?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},l&&l.back?c.default.createElement("img",{src:l.back,alt:"银行卡反面"}):c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传反面")))):c.default.createElement(w.default,{showUploadList:!1,max:1,onSave:function(t){e.formUtils.setFieldsValue({back:t.url})}},this.formUtils.getFieldValue("back")?c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:this.formUtils.getFieldValue("back"),alt:"银行卡反面"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.formUtils.setFieldsValue({back:""})}}))):c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传反面"))))))))}}]),t}(E.default);N=d.Form.create()(N);var C=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isEdit:!1},a.submit=function(){var e=a.props,t=e.data,l=e.mod,n=e.parent,i=!1;a.formUtils.validateFields(function(e){console.log(e),e||(i=a.formUtils.getFieldsValue(),i=a.formatData(i),i.id=t.id,a.declaration.update_bank(i).then(function(e){e&&e.success&&(d.message.success("更新银行卡成功"),l.loadData(),n.getValidate(),a.setState({isEdit:!1}))}))})},a.genneratorFix=function(e){var t=a.props.mod;return t.state.visible?c.default.createElement(d.Affix,{target:function(){return t.affixContainer}},e):e},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.declaration=new g.default,this.formUtils=new b.default(U)}},{key:"formatData",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];"string"==typeof a&&(a=a.replace(/^\s*|\s*$/g,"")),e[t]=a}return e}},{key:"render",value:function(){var e=this,t=this.props.data;if(!t)return null;var a=t.permission.editPermission&&-1==[4,5,6,2].indexOf(t.data.status),l=t.permission.readPermission,n=JSON.parse(JSON.stringify(t.data)),i={labelCol:{span:24},wrapperCol:{span:24}},r=[];this.state.isEdit?(r.push(c.default.createElement("img",{className:"anticon",key:"cancel",src:"/assets/images/icon/取消@1x.png",srcSet:"/assets/images/icon/取消@2x.png",onClick:function(t){e.setState({isEdit:!1})}})),r.push(c.default.createElement("img",{className:"anticon",key:"sure",src:"/assets/images/icon/确认@1x.png",srcSet:"/assets/images/icon/确认@2x.png",onClick:this.submit}))):l&&a&&r.push(c.default.createElement("img",{className:"anticon anticon-edit",key:"edit",src:"/assets/images/icon/编辑@1x.png",srcSet:"/assets/images/icon/编辑@2x.png",onClick:function(t){e.setState({isEdit:!0})}}));var s=n&&n.customerBank;return c.default.createElement("div",{className:p.default.card},this.genneratorFix(c.default.createElement("div",{className:p.default.header},c.default.createElement("div",{className:p.default.title},"银行卡"),c.default.createElement("div",{className:p.default.icons},r))),c.default.createElement("div",{className:p.default.content},l?this.state.isEdit?c.default.createElement(N,{formUtils:this.formUtils,data:n}):c.default.createElement(d.Form,null,c.default.createElement(k,o({label:"银行卡帐号",required:!0},i),s&&s.account),c.default.createElement(k,o({label:"开户行",required:!0},i),s&&s.bankName),c.default.createElement(k,o({label:"银行卡正反面",required:!0},i),c.default.createElement("ul",{className:p.default.images},s&&s.front?c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:s&&s.front,target:"_blank"},c.default.createElement("img",{src:s&&s.front,alt:"银行卡正面"}))):null,s&&s.back?c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:s&&s.back,target:"_blank"},c.default.createElement("img",{src:s&&s.back,alt:"银行卡反面"}))):null))):"暂无权限查看"))}}]),t}(u.Component);t.default=C},2081:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),c=l(u),d=a(42),f=a(242),m=(l(f),a(1775)),p=l(m),_=a(1726),g=l(_),h=a(1698),v=l(h),b=a(357),y=l(b),E=a(84),x=l(E),w=a(1717),k=l(w),U=a(33),N=(l(U),d.Form.Item),C=d.Select.Option,F=(d.Radio.Group,"DeclarationDetailBaseInfo"),S=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.formatData=function(e){return e},a.state={data:a.props.data,dic:{},category:[]},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.formUtils=this.props.formUtils||this.formUtils,this.formUtils.setForm(this.props.form),(new v.default).gets("dic_customer_credentials").then(function(t){if(t.success&&t.result){var a={};t.result.map(function(e){a[e.value]=e}),e.setState({dic:a})}})}},{key:"getDicSelections",value:function(e,t){return this.state.dic[t]&&this.state.dic[t].selections&&this.state.dic[t].selections.map(function(t){return c.default.createElement(e,{value:t.value,key:t.value},t.label)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.data!==this.state.data){var a=this.formatData(e.data);this.setState({data:a},function(){t.formUtils&&(t.formUtils.resetFields(),t.formUtils.setFieldsValue(a))})}}},{key:"render",value:function(){var e=this,t=this.props.data,a={labelCol:{span:24},wrapperCol:{span:24}},l=2==t.status||1==t.status;return c.default.createElement("div",{id:F},c.default.createElement(d.Form,null,c.default.createElement(N,o({label:"客户名称"},a),t&&t.customerName),c.default.createElement(N,o({label:"成单人"},a),t&&t.userName),c.default.createElement(N,o({label:"证件类型",required:!0},a),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{style:{display:"inline-block",width:"150px"}},this.formUtils.getFieldDecorator("type",{initialValue:t.credentialType?t.credentialType.toString():null})(c.default.createElement(d.Select,{placeholder:"请选择证件类型",size:"large",disabled:!0,allowClear:!0,getPopupContainer:function(){return document.getElementById(F)}},this.getDicSelections(C,"dic_customer_credentials"))))):this.formUtils.getFieldDecorator("type",{initialValue:t.credentialType?t.credentialType.toString():null})(c.default.createElement(d.Select,{placeholder:"请选择证件类型",size:"large",allowClear:!0,getPopupContainer:function(){return document.getElementById(F)}},this.getDicSelections(C,"dic_customer_credentials")))),c.default.createElement(N,o({label:"证件号码",required:!0},a),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{style:{display:"inline-block"}},this.formUtils.getFieldDecorator("number",{initialValue:t.certNo})(c.default.createElement(d.Input,{size:"large",disabled:!0})))):this.formUtils.getFieldDecorator("number",{initialValue:t.certNo})(c.default.createElement(d.Input,{size:"large"}))),c.default.createElement(N,o({label:"证件正反面",required:!0},a),c.default.createElement("ul",{className:p.default.images},c.default.createElement("li",{className:p.default.image},this.formUtils.getFieldDecorator("front",{initialValue:t.certFront})(c.default.createElement(d.Input,{type:"hidden"})),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},t.certFront?c.default.createElement("img",{src:t.certFront,alt:"证件正面"}):c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传正面")))):c.default.createElement(k.default,{showUploadList:!1,max:1,onSave:function(t){e.formUtils.setFieldsValue({front:t.url})}},this.formUtils.getFieldValue("front")?c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:this.formUtils.getFieldValue("front"),alt:"证件正面"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.formUtils.setFieldsValue({front:""})}}))):c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传正面")))),c.default.createElement("li",{className:p.default.image},this.formUtils.getFieldDecorator("back",{initialValue:t.certBack})(c.default.createElement(d.Input,{type:"hidden"})),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},t.certBack?c.default.createElement("img",{src:t.certBack,alt:"证件反面"}):c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传反面")))):c.default.createElement(k.default,{showUploadList:!1,max:1,onSave:function(t){e.formUtils.setFieldsValue({back:t.url})}},this.formUtils.getFieldValue("back")?c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:this.formUtils.getFieldValue("back"),alt:"证件反面"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.formUtils.setFieldsValue({back:""})}}))):c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传反面")))))),c.default.createElement(N,o({label:"资产证明",required:!0},a),this.formUtils.getFieldDecorator("declarationAttachs",{initialValue:t.declarationAttachs||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("declarationAttachs").map(function(t){return c.default.createElement("li",{className:p.default.image,key:t.fileUrl},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.fileUrl,alt:"资产证明"}),l?null:c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("declarationAttachs");e.formUtils.setFieldsValue({declarationAttachs:l.filter(function(e){return e.fileUrl!=t.fileUrl})})}}))))}),this.formUtils.getFieldValue("declarationAttachs").length<4?c.default.createElement("li",{className:p.default.image},l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):c.default.createElement(k.default,{showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("declarationAttachs");a.push({fileUrl:t.url,fileName:t.name}),e.formUtils.setFieldsValue({declarationAttachs:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null))))}}]),t}(x.default);S=d.Form.create()(S);var O=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isEdit:!1},a.submit=function(){var e=a.props,t=e.data,l=e.mod,n=e.parent,i=!1;a.formUtils.validateFields(function(e){console.log(e),e||(i=a.formUtils.getFieldsValue(),i=a.formatData(i),i.id=t.id,i.declarationAttachs=i.declarationAttachs&&i.declarationAttachs.length?JSON.stringify(i.declarationAttachs):null,a.declaration.update_credentials(i).then(function(e){e&&e.success&&(d.message.success("更新身份资料成功"),l.loadData(),n.getValidate(),a.setState({isEdit:!1}))}))})},a.genneratorFix=function(e){var t=a.props.mod;return t.state.visible?c.default.createElement(d.Affix,{target:function(){return t.affixContainer}},e):e},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.declaration=new g.default,this.formUtils=new y.default(F)}},{key:"formatData",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];"string"==typeof a&&(a=a.replace(/^\s*|\s*$/g,"")),e[t]=a}return e}},{key:"componentWillReceiveProps",value:function(e){e.data.id!=this.props.data.id&&this.setState({isEdit:!1})}},{key:"render",value:function(){var e=this,t=this.props.data;if(!t)return null;var a=t.permission.editPermission&&-1==[4,5,6].indexOf(t.data.status),l=t.permission.readPermission,n=JSON.parse(JSON.stringify(t.data)),i={labelCol:{span:24},wrapperCol:{span:24}},r=[];return this.state.isEdit?(r.push(c.default.createElement("img",{className:"anticon",key:"cancel",src:"/assets/images/icon/取消@1x.png",srcSet:"/assets/images/icon/取消@2x.png",onClick:function(t){e.setState({isEdit:!1})}})),r.push(c.default.createElement("img",{className:"anticon",key:"sure",src:"/assets/images/icon/确认@1x.png",srcSet:"/assets/images/icon/确认@2x.png",onClick:this.submit}))):l&&a&&r.push(c.default.createElement("img",{className:"anticon anticon-edit",key:"edit",src:"/assets/images/icon/编辑@1x.png",srcSet:"/assets/images/icon/编辑@2x.png",onClick:function(t){e.setState({isEdit:!0})}})),n?(n.customerCredentials&&(n.certNo=n.customerCredentials.number,n.credentialType=n.customerCredentials.type,n.credentialTypeText=n.customerCredentials.typeText,n.certFront=n.customerCredentials.front,n.certBack=n.customerCredentials.back),c.default.createElement("div",{className:p.default.card},this.genneratorFix(c.default.createElement("div",{className:p.default.header},c.default.createElement("div",{className:p.default.title},"身份资料"),c.default.createElement("div",{className:p.default.icons},r))),c.default.createElement("div",{className:p.default.content},l?this.state.isEdit?c.default.createElement(S,{formUtils:this.formUtils,data:n}):c.default.createElement(d.Form,null,c.default.createElement(N,o({label:"客户名称"},i),n&&n.customerName),c.default.createElement(N,o({label:"成单人"},i),n&&n.userName),c.default.createElement(N,o({label:"证件类型",required:!0},i),n&&n.credentialTypeText),c.default.createElement(N,o({label:"证件号码",required:!0},i),n.certNo),c.default.createElement(N,o({label:"证件正反面",required:!0},i),c.default.createElement("ul",{className:p.default.images},n.certFront?c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:n.certFront,target:"_blank"},c.default.createElement("img",{src:n.certFront,alt:"证件正面"}))):null,n.certBack?c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:n.certBack,target:"_blank"},c.default.createElement("img",{src:n.certBack,alt:"证件反面"}))):null)),c.default.createElement(N,o({label:"资产证明",required:!0},i),c.default.createElement("ul",{className:p.default.images},n.declarationAttachs&&n.declarationAttachs.map(function(e){return c.default.createElement("li",{className:p.default.image,key:e.fileUrl},c.default.createElement("a",{href:e.fileUrl,target:"_blank"},c.default.createElement("img",{src:e.fileUrl,alt:""})))})))):"暂无权限查看"))):null}}]),t}(u.Component);t.default=O},2082:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),c=l(u),d=a(42),f=a(242),m=(l(f),a(1775)),p=l(m),_=a(1726),g=l(_),h=a(1698),v=(l(h),a(357)),b=l(v),y=a(84),E=l(y),x=a(1717),w=l(x),k=a(33),U=l(k),N=d.Form.Item,C=(d.Select.Option,d.Radio.Group,"CustomerBankInfoForm"),F=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.formatData=function(e){return e},a.state={data:a.props.data,dic:{},category:[]},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.formUtils=this.props.formUtils||this.formUtils,this.formUtils.setForm(this.props.form)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.data!==this.state.data){var a=this.formatData(e.data);this.setState({data:a},function(){t.formUtils&&(t.formUtils.resetFields(),t.formUtils.setFieldsValue(a))})}}},{key:"render",value:function(){var e=this,t=this.props.data;console.log("data",t);var a={labelCol:{span:24},wrapperCol:{span:24}},l=2==t.status||1==t.status;return c.default.createElement("div",{id:C},c.default.createElement(d.Form,null,c.default.createElement(N,o({label:"认购金额(万)"},a),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",null,this.formUtils.getFieldDecorator("dealAmount",{initialValue:t&&t.dealAmount})(c.default.createElement(d.Input,{size:"large",disabled:!0})))):this.formUtils.getFieldDecorator("dealAmount",{initialValue:t&&t.dealAmount})(c.default.createElement(d.Input,{size:"large"}))),c.default.createElement(N,o({label:"打款日期"},a),l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{style:{display:"inline-block"}},this.formUtils.getFieldDecorator("payDate",{initialValue:t&&t.payDate})(c.default.createElement(d.DatePicker,{size:"large",disabled:!0,getCalendarContainer:function(){return document.getElementById(C)}})))):this.formUtils.getFieldDecorator("payDate",{initialValue:t.payDate||null})(c.default.createElement(d.DatePicker,{size:"large",getCalendarContainer:function(){return document.getElementById(C)}}))),c.default.createElement(N,o({label:"产品名称"},a),t&&t.productName),c.default.createElement(N,o({label:"产品类型"},a),t&&t.productTypeName),c.default.createElement(N,o({label:"产品期限"},a),t.productTime?t.productTime:null),c.default.createElement(N,o({label:"产品成立日期"},a),t.productCreateDate?(0,U.default)(t.productCreateDate).format("YYYY-MM-DD"):null),c.default.createElement(N,o({label:"产品成立公告"},a),t&&t.productNoticeName),c.default.createElement(N,o({label:"打款凭证",required:!0},a),this.formUtils.getFieldDecorator("voucher",{initialValue:t.voucher||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("voucher").map(function(t){return c.default.createElement("li",{className:p.default.image,key:t.fileUrl},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.fileUrl,alt:"打款凭证"}),c.default.createElement("div",{className:p.default.btns},l?null:c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("voucher");e.formUtils.setFieldsValue({voucher:l.filter(function(e){return e.fileUrl!=t.fileUrl})})}}))))}),this.formUtils.getFieldValue("voucher").length<4?c.default.createElement("li",{className:p.default.image},l?c.default.createElement(d.Tooltip,{title:"待审批和已通过的不可修改"},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):c.default.createElement(w.default,{showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("voucher");a.push({fileUrl:t.url,fileName:t.name}),e.formUtils.setFieldsValue({voucher:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(N,o({label:"合同附件"},a),this.formUtils.getFieldDecorator("contractFile",{initialValue:t.contractFile||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("contractFile").map(function(t){return c.default.createElement("li",{className:p.default.image,key:t.fileUrl},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.fileUrl,alt:"资产证明"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("contractFile");e.formUtils.setFieldsValue({contractFile:l.filter(function(e){return e.fileUrl!=t.fileUrl})})}}))))}),this.formUtils.getFieldValue("contractFile").length<12?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("contractFile");a.push({fileUrl:t.url,fileName:t.name}),e.formUtils.setFieldsValue({contractFile:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(N,o({label:"报单备注"},a),3==t.status?c.default.createElement(d.Tooltip,{title:"审批中，已通过，已取消不可修改"},c.default.createElement("div",null,this.formUtils.getFieldDecorator("remark",{initialValue:t.remark,validateTrigger:["onChange","onBlur"],rules:[{type:"string",whitespace:!0,message:"请填写长度不超过200个字符",min:1,max:200}]})(c.default.createElement(d.Input,{type:"textarea",disabled:!0,rows:3,size:"large"})))):this.formUtils.getFieldDecorator("remark",{initialValue:t.remark,validateTrigger:["onChange","onBlur"],rules:[{type:"string",whitespace:!0,message:"请填写长度不超过200个字符",min:1,max:200}]})(c.default.createElement(d.Input,{type:"textarea",rows:3,size:"large"})))))}}]),t}(E.default);F=d.Form.create()(F);var S=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isEdit:!1},a.submit=function(){var e=a.props,t=e.data,l=e.mod,n=e.parent;a.formUtils.validateFields(function(e){if(console.log(e),!e){var i=a.formUtils.getFieldsValue();i=a.formatData(i),i.id=t.id,i.voucher&&i.voucher.length&&(i.voucher=i.voucher.length?JSON.stringify(i.voucher):null),i.contractFile&&i.contractFile.length&&(i.contractFile=i.contractFile.length?JSON.stringify(i.contractFile):null),a.declaration.update_subscribe(i).then(function(e){e&&e.success&&(d.message.success("更新认购信息成功"),l.loadData(),n.getValidate(),a.setState({isEdit:!1}))})}})},a.genneratorFix=function(e){var t=a.props.mod;return t.state.visible?c.default.createElement(d.Affix,{target:function(){return t.affixContainer}},e):e},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.declaration=new g.default,this.formUtils=new b.default(C)}},{key:"formatData",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];"string"==typeof a&&(a=a.replace(/^\s*|\s*$/g,"")),a instanceof Date?a=(0,U.default)(a).format("YYYY-MM-DD"):a instanceof U.default&&(a=(0,U.default)(a).format("YYYY-MM-DD")),a instanceof Object&&a._isAMomentObject&&(a=a.format("YYYY-MM-DD")),e[t]=a}return e}},{key:"render",value:function(){var e=this,t=this.props.data;if(!t)return null;var a=t.permission.editPermission&&-1==[4,5,6].indexOf(t.data.status),l=t.permission.readPermission,n=JSON.parse(JSON.stringify(t.data)),i={labelCol:{span:24},wrapperCol:{span:24}},r=[];return this.state.isEdit?(r.push(c.default.createElement("img",{className:"anticon",key:"cancel",src:"/assets/images/icon/取消@1x.png",srcSet:"/assets/images/icon/取消@2x.png",onClick:function(t){e.setState({isEdit:!1})}})),r.push(c.default.createElement("img",{className:"anticon",key:"sure",src:"/assets/images/icon/确认@1x.png",srcSet:"/assets/images/icon/确认@2x.png",onClick:this.submit}))):l&&a&&r.push(c.default.createElement("img",{className:"anticon anticon-edit",key:"edit",src:"/assets/images/icon/编辑@1x.png",srcSet:"/assets/images/icon/编辑@2x.png",onClick:function(t){e.setState({isEdit:!0})}})),n?(n.payDate&&(n.payDate=(0,U.default)(n.payDate)),c.default.createElement("div",{className:p.default.card},this.genneratorFix(c.default.createElement("div",{className:p.default.header},c.default.createElement("div",{className:p.default.title},"认购信息"),c.default.createElement("div",{className:p.default.icons},r))),c.default.createElement("div",{className:p.default.content},l?this.state.isEdit?c.default.createElement(F,{formUtils:this.formUtils,data:n}):c.default.createElement(d.Form,null,c.default.createElement(N,o({label:"认购金额(万)"},i),n&&n.dealAmount),c.default.createElement(N,o({label:"打款日期"},i),n.payDate?n.payDate.format("YYYY-MM-DD"):null),c.default.createElement(N,o({label:"产品名称"},i),n&&n.productName),c.default.createElement(N,o({label:"产品类型"},i),n&&n.productTypeName),c.default.createElement(N,o({label:"产品期限"},i),n.productTime?n.productTime:null),c.default.createElement(N,o({label:"产品成立日期"},i),n.productCreateDate?(0,U.default)(n.productCreateDate).format("YYYY-MM-DD"):null),c.default.createElement(N,o({label:"产品成立公告"},i),n&&n.productNoticeName),c.default.createElement(N,o({label:"打款凭证",required:!0},i),c.default.createElement("ul",{className:p.default.images},n.voucher&&n.voucher.map(function(e){return c.default.createElement("li",{className:p.default.image,key:e.fileUrl},c.default.createElement("a",{href:e.fileUrl,target:"_blank"},c.default.createElement("img",{src:e.fileUrl,alt:e.fileName})))}))),c.default.createElement(N,o({label:"合同附件"},i),c.default.createElement("ul",{className:p.default.images},n.contractFile&&n.contractFile.map(function(e){return c.default.createElement("li",{className:p.default.image,key:e.fileUrl},c.default.createElement("a",{href:e.fileUrl,target:"_blank"},c.default.createElement("img",{src:e.fileUrl,alt:e.fileName})))}))),c.default.createElement(N,o({label:"报单备注"},i),n&&n.remark)):"暂无权限查看"))):null}}]),t}(u.Component);t.default=S},2083:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),c=l(u),d=a(42),f=a(242),m=(l(f),a(1775)),p=l(m),_=a(1726),g=l(_),h=a(1698),v=(l(h),a(357)),b=l(v),y=a(84),E=l(y),x=a(1717),w=l(x),k=a(1723),U=l(k),N=a(1887),C=l(N),F=d.Form.Item,S=(d.Select.Option,d.Radio.Group,"DeclarationBankInfoForm"),O=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));D.call(a);var l=a.props.data,r=l.complianceRecord&&l.complianceRecord.length?o({fileId:l.complianceRecord[0].refId},l.complianceRecord[0],{status:"done"}):null;return a.state={data:l,current:r,dic:{},category:[]},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.formUtils=this.props.formUtils||this.formUtils,this.formUtils.setForm(this.props.form)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.data!==this.state.data){var a=this.formatData(e.data);this.setState({data:a},function(){t.formUtils&&(t.formUtils.resetFields(),t.formUtils.setFieldsValue(a))})}}},{key:"render",value:function(){var e=this,t=this.props.data,a={labelCol:{span:24},wrapperCol:{span:24}},l=APP.state.complianceVideo,n=this.state.current;return t.complianceRecord=t.complianceRecord?t.complianceRecord.map(function(e){return e.fileId=e.refId,e}):null,console.log("complianceVideo",l),c.default.createElement("div",{id:S},c.default.createElement(d.Form,null,c.default.createElement(F,o({label:"合规视频"},a),this.formUtils.getFieldDecorator("complianceRecord",{initialValue:t.complianceRecord?JSON.stringify(t.complianceRecord):null})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},c.default.createElement("li",{className:p.default.image},n?this.getVideoUploadTips(n):null,c.default.createElement("div",{style:{display:n?"none":"block"}},c.default.createElement(U.default,{multiple:!1,onSave:function(t){console.log("save",t);var a=e.state.current;a.status="done",e.setState({current:a}),e.formUtils.setFieldsValue({complianceRecord:JSON.stringify([{name:t.name,size:t.size,fileId:t.fileId}])})},onError:function(t){console.log("error",t);var a=e.state.current;a.status="error",e.setState({current:a}),e.formUtils.setFieldsValue({complianceRecord:null})},onProgress:function(t){console.log("progress",t),e.setState({current:o({},t,{status:"progress"})})},ref:function(t){t&&(e.uploadVideo=t)},showUploadList:!1,onAdd:this.handleVideoUpload},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传视频"))))))),c.default.createElement(F,o({label:"投资者基本信息表（自然人）"},a),this.formUtils.getFieldDecorator("baseInfo",{initialValue:t.baseInfo||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("baseInfo")&&this.formUtils.getFieldValue("baseInfo").map(function(t){return c.default.createElement("li",{className:p.default.image},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.url,alt:"投资者基本信息表（自然人）"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("baseInfo");e.formUtils.setFieldsValue({baseInfo:l.filter(function(e){return e.url!=t.url})})}}))))}),!this.formUtils.getFieldValue("baseInfo")||this.formUtils.getFieldValue("baseInfo").length<1?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{accept:"png,jpg,jpeg,gif",showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("baseInfo");a.push({url:t.url,name:t.name,formatType:1}),e.formUtils.setFieldsValue({baseInfo:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(F,o({label:"投资者风险匹配告知书及投资者确认函"},a),this.formUtils.getFieldDecorator("riskNotify",{initialValue:t.riskNotify||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("riskNotify")&&this.formUtils.getFieldValue("riskNotify").map(function(t){return c.default.createElement("li",{className:p.default.image},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.url,alt:"投资者风险匹配告知书及投资者确认函"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("riskNotify");e.formUtils.setFieldsValue({riskNotify:l.filter(function(e){return e.url!=t.url})})}}))))}),!this.formUtils.getFieldValue("riskNotify")||this.formUtils.getFieldValue("riskNotify").length<1?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{accept:"png,jpg,jpeg,gif",showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("riskNotify");a.push({url:t.url,name:t.name,formatType:1}),e.formUtils.setFieldsValue({riskNotify:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(F,o({label:"基金投资者风险测评问卷（自然人）"},a),this.formUtils.getFieldDecorator("riskQuesstionnaire",{initialValue:t.riskQuesstionnaire||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("riskQuesstionnaire")&&this.formUtils.getFieldValue("riskQuesstionnaire").map(function(t){return c.default.createElement("li",{className:p.default.image},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.url,alt:"基金投资者风险测评问卷（自然人）"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("riskQuesstionnaire");e.formUtils.setFieldsValue({riskQuesstionnaire:l.filter(function(e){return e.url!=t.url})})}}))))}),!this.formUtils.getFieldValue("riskQuesstionnaire")||this.formUtils.getFieldValue("riskQuesstionnaire").length<4?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{accept:"png,jpg,jpeg,gif",showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("riskQuesstionnaire");a.push({url:t.url,name:t.name,formatType:1}),e.formUtils.setFieldsValue({riskQuesstionnaire:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(F,o({label:"基金回访确认书"},a),this.formUtils.getFieldDecorator("returnConfirmation",{initialValue:t.returnConfirmation||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("returnConfirmation")&&this.formUtils.getFieldValue("returnConfirmation").map(function(t){return c.default.createElement("li",{className:p.default.image},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.url,alt:"基金回访确认书"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("returnConfirmation");e.formUtils.setFieldsValue({returnConfirmation:l.filter(function(e){return e.url!=t.url})})}}))))}),!this.formUtils.getFieldValue("returnConfirmation")||this.formUtils.getFieldValue("returnConfirmation").length<1?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{accept:"png,jpg,jpeg,gif",showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("returnConfirmation");a.push({url:t.url,name:t.name,formatType:1}),e.formUtils.setFieldsValue({returnConfirmation:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null)),c.default.createElement(F,o({label:"其他合规文件"},a),this.formUtils.getFieldDecorator("otherFile",{initialValue:t.otherFile||[]})(c.default.createElement(d.Input,{type:"hidden"})),c.default.createElement("ul",{className:p.default.images},this.formUtils.getFieldValue("otherFile")&&this.formUtils.getFieldValue("otherFile").map(function(t){return c.default.createElement("li",{className:p.default.image},c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("img",{src:t.url,alt:"其他合规文件"}),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(a){a.preventDefault(),a.stopPropagation();var l=e.formUtils.getFieldValue("otherFile");e.formUtils.setFieldsValue({otherFile:l.filter(function(e){return e.url!=t.url})})}}))))}),!this.formUtils.getFieldValue("otherFile")||this.formUtils.getFieldValue("otherFile").length<8?c.default.createElement("li",{className:p.default.image},c.default.createElement(w.default,{accept:"png,jpg,jpeg,gif",showUploadList:!1,max:1,onSave:function(t){var a=e.formUtils.getFieldValue("otherFile");a.push({url:t.url,name:t.name,formatType:1}),e.formUtils.setFieldsValue({otherFile:a})}},c.default.createElement("div",{className:p.default.upload_btn},c.default.createElement(d.Icon,{type:"plus"}),c.default.createElement("p",null,"上传照片")))):null))))}}]),t}(E.default),D=function(){var e=this;this.formatData=function(e){return e},this.handleVideoUpload=function(t){var a=APP.state.complianceVideo;a||(a=[]),d.message.info("视频上传中...");var l={};t.status="start",l.complianceVideo=a.concat([{status:"start",size:t.size,name:t.name,uid:t.uid,type:t.type}]),console.log("state",l),e.setState({current:{status:"start",size:t.size,name:t.name,uid:t.uid,type:t.type}}),APP.setState(l,function(){e.uploadVideo.start(t,"complianceVideo")})},this.getVideoUploadTips=function(t){return c.default.createElement("div",{className:p.default.upload_btn},"error"==t.status?c.default.createElement("div",{className:p.default.uploaded},c.default.createElement("p",null,t.name),c.default.createElement("p",null,"出错啦，请删除后重新上传"),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setState({current:null});var a=e.formUtils.getFieldsValue();a.complianceRecord=null,e.formUtils.setFieldsValue(a)}}))):"start"==t.status?c.default.createElement("div",null,c.default.createElement("p",null,t.name),c.default.createElement("p",null,"准备上传中...")):"progress"==t.status?c.default.createElement("div",null,c.default.createElement("p",null,t.name),c.default.createElement("p",null,(100*t.curr).toFixed(2),"%")):"done"==t.status?c.default.createElement("div",{className:p.default.uploaded},t.id?t.coverUrl?c.default.createElement("img",{src:t.coverUrl||"/assets/images/ext/video@1x.png"}):c.default.createElement("div",null,c.default.createElement("p",{style:{wordWrap:"break-word"}},t.name)):c.default.createElement("div",null,c.default.createElement("p",null,t.name),c.default.createElement("p",null,"已完成")),c.default.createElement("div",{className:p.default.btns},c.default.createElement(d.Icon,{type:"close",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setState({current:null}),e.formUtils.setFieldsValue({complianceRecord:null})}}))):null)}};O=d.Form.create()(O);var V=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isEdit:!1},a.submit=function(){var e=a.props,t=e.data,l=e.mod,n=e.parent,i=!1;a.formUtils.validateFields(function(e){console.log(e),e||(i=a.formUtils.getFieldsValue(),i=a.formatData(i),i.id=t.id,i.baseInfo=JSON.stringify(i.baseInfo),i.riskNotify=JSON.stringify(i.riskNotify),i.riskQuesstionnaire=JSON.stringify(i.riskQuesstionnaire),i.returnConfirmation=JSON.stringify(i.returnConfirmation),i.otherFile=JSON.stringify(i.otherFile),a.declaration.update_compliance(i).then(function(e){e&&e.success&&(d.message.success("更新合规文件成功"),l.loadData(),n.getValidate(),a.setState({isEdit:!1}))}))})},a.genneratorFix=function(e){var t=a.props.mod;return t.state.visible?c.default.createElement(d.Affix,{target:function(){return t.affixContainer}},e):e},a}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.declaration=new g.default,this.formUtils=new b.default(S)}},{key:"formatData",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var a=e[t];"string"==typeof a&&(a=a.replace(/^\s*|\s*$/g,"")),e[t]=a||[]}return e}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,l=t.mod;if(!a)return null;var n=a.permission.editPermission&&-1==[4,5,6].indexOf(a.data.status),i=a.permission.readPermission,r=JSON.parse(JSON.stringify(a.data)),s={labelCol:{span:24},wrapperCol:{span:24}},u=[];return this.state.isEdit?(u.push(c.default.createElement("img",{className:"anticon",key:"cancel",src:"/assets/images/icon/取消@1x.png",srcSet:"/assets/images/icon/取消@2x.png",onClick:function(t){e.setState({isEdit:!1})}})),u.push(c.default.createElement("img",{className:"anticon",key:"sure",src:"/assets/images/icon/确认@1x.png",srcSet:"/assets/images/icon/确认@2x.png",onClick:this.submit}))):i&&n&&u.push(c.default.createElement("img",{className:"anticon anticon-edit",key:"edit",src:"/assets/images/icon/编辑@1x.png",srcSet:"/assets/images/icon/编辑@2x.png",onClick:function(t){e.setState({isEdit:!0})}})),c.default.createElement("div",{className:p.default.card},this.genneratorFix(c.default.createElement("div",{className:p.default.header},c.default.createElement("div",{className:p.default.title},"合规文件"),c.default.createElement("div",{className:p.default.icons},u))),c.default.createElement("div",{className:p.default.content},c.default.createElement("p",null,c.default.createElement("a",{download:!0,href:"https://yundaosaas.oss-cn-hangzhou.aliyuncs.com/compliance/%E5%90%88%E8%A7%84%E6%96%87%E4%BB%B6%E6%A8%A1%E6%9D%BF.zip"},"合规文件模板下载>>")),i?this.state.isEdit?c.default.createElement(O,{formUtils:this.formUtils,data:r}):c.default.createElement(d.Form,null,c.default.createElement(F,o({label:"合规视频"},s),c.default.createElement("ul",{className:p.default.images},r.complianceRecord&&r.complianceRecord.map(function(t){return c.default.createElement("div",{style:{float:"left"}},c.default.createElement("li",{className:p.default.image,style:{float:"none"}},t.sourceUrl?c.default.createElement("a",{onClick:function(a){var l=t.baseVideoTranscodes,n=l&&l[0].url;n?e.previewVideo.show({video:{url:n,coverUrl:t.coverUrl}}):window.open(t.sourceUrl,"_blank")},target:"_Blank"},t.coverUrl?c.default.createElement("div",{className:p.default.video},c.default.createElement("div",{className:"vcp-playtoggle"}),c.default.createElement("img",{src:t.coverUrl||"/assets/images/ext/video@1x.png",alt:t.name})):c.default.createElement("p",{className:p.default.video_noCover},t.name)):t.coverUrl?c.default.createElement("div",{className:p.default.video},c.default.createElement("div",{className:"vcp-playtoggle"}),c.default.createElement("img",{src:t.coverUrl||"/assets/images/ext/video@1x.png",alt:t.name})):c.default.createElement("p",{className:p.default.video_noCover},t.name)))}))),c.default.createElement(F,o({label:"投资者基本信息表（自然人）"},s),c.default.createElement("ul",{className:p.default.images},r.baseInfo&&r.baseInfo.map(function(e){return c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:e.url,target:"_Blank"},c.default.createElement("img",{src:e.url,alt:e.name})))}))),c.default.createElement(F,o({label:"投资者风险匹配告知书及投资者确认函"},s),c.default.createElement("ul",{className:p.default.images},r.riskNotify&&r.riskNotify.map(function(e){return c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:e.url,target:"_Blank"},c.default.createElement("img",{src:e.url,alt:e.name})))}))),c.default.createElement(F,o({label:"基金投资者风险测评问卷（自然人）"},s),c.default.createElement("ul",{className:p.default.images},r.riskQuesstionnaire&&r.riskQuesstionnaire.map(function(e){return c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:e.url,target:"_Blank"},c.default.createElement("img",{src:e.url,alt:e.name})))}))),c.default.createElement(F,o({label:"基金回访确认书"},s),c.default.createElement("ul",{className:p.default.images},r.returnConfirmation&&r.returnConfirmation.map(function(e){return c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:e.url,target:"_Blank"},c.default.createElement("img",{src:e.url,alt:e.name})))}))),c.default.createElement(F,o({label:"其他合规文件"},s),c.default.createElement("ul",{className:p.default.images},r.otherFile&&r.otherFile.map(function(e){return c.default.createElement("li",{className:p.default.image},c.default.createElement("a",{href:e.url,target:"_Blank"},c.default.createElement("img",{src:e.url,alt:e.name})))})))):"暂无权限查看"),c.default.createElement(C.default,{getContainer:function(){return l.affixContainer},ref:function(t){t&&(e.previewVideo=t)}}))}}]),t}(u.Component);t.default=V},2084:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(0),u=l(s),c=(a(42),a(1775)),d=l(c),f=a(33),m=l(f),p=function(e){function t(e){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),o(t,[{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=e.data;return t?u.default.createElement("div",{className:d.default.header},u.default.createElement("div",{className:d.default.number},u.default.createElement("span",null,"报单编号"),t.number),u.default.createElement("div",{className:d.default.title},t.customerName||"--","-",t.productName,u.default.createElement("span",{className:d.default.status},t.statusText)),u.default.createElement("div",{className:d.default.summary},u.default.createElement("div",{className:d.default.money},u.default.createElement("span",null,"认购金额"),t.dealAmount,"万"),u.default.createElement("div",{className:d.default.date},u.default.createElement("span",null,"打款日期"),t.payDate?(0,m.default)(t.payDate).format("YYYY-MM-DD"):null),u.default.createElement("p",{className:d.default.remark},"备注：",t.remark))):null}}]),t}(s.Component);t.default=p},2085:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(0),u=l(s),c=a(42),d=a(1775),f=l(d),m=a(1726),p=(l(m),a(2081)),_=l(p),g=a(2082),h=l(g),v=a(2080),b=l(v),y=a(2083),E=l(y),x=a(95),w=l(x),k=(c.Form.Item,function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,visible:!1,showWarn:!1},a.resetShowWarn=function(e){var t=1!=w.default.getStorage("hideDeclarationEditWarn");4==e.status&&t&&a.setState({showWarn:!0})},a.hideProdocutEditWarn=function(){a.setState({showWarn:!1}),w.default.setStorage("hideDeclarationEditWarn",!1)},a}return r(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.state.data&&this.resetShowWarn(e.data)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.mod,l=e.parent;return t&&t.data?u.default.createElement("div",{className:f.default.body},u.default.createElement("div",{className:f.default.message,style:{marginBottom:"20px",display:this.state.showWarn?"block":"none"}},u.default.createElement(c.Alert,{message:u.default.createElement("p",null,"已取消的报单不可编辑。 ",u.default.createElement("a",{onClick:this.hideProdocutEditWarn}," 不再提醒 ")),type:"warning",showIcon:!0})),u.default.createElement("div",{style:{display:"flex"}},u.default.createElement("div",{style:{flex:1,marginRight:"20px"}},u.default.createElement(_.default,{data:t,mod:a,parent:l}),u.default.createElement(E.default,{data:t,mod:a,parent:l})),u.default.createElement("div",{style:{flex:1}},u.default.createElement(h.default,{data:t,mod:a,parent:l}),u.default.createElement(b.default,{data:t,mod:a,parent:l})))):u.default.createElement("div",null,"找不到订单")}}]),t}(s.Component));t.default=k}});